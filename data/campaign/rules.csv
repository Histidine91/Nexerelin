id,trigger,conditions,script,text,options,notes
"#RULESET_NAME Nexerelin",,,,,,
,,,,,,
# NGC options,,,,,,
ExerelinOnNewGameCreationStart,BeginNewGameCreation,"!$doesFakeVariableExist score:999","$isInIntro = true 0
$introPage = 1.0 0
FireAll ExerelinNGCIntroPage",,,"override SS+ NGC"
,,,,,,
ExerelinNGCIntroNextPage,NewGameOptionSelected,"$option==exerelinNGCIntroNextPage","$introPage++
FireAll ExerelinNGCIntroPage",,,
ExerelinNGCIntroPrevPage,NewGameOptionSelected,"$option==exerelinNGCIntroPrevPage","$introPage--
FireAll ExerelinNGCIntroPage",,,
,,,,,,
ExerelinNGCIntro1,ExerelinNGCIntroPage,"$introPage == 1.0
$isInIntro","SetShortcut exerelinNGCIntroNextPage RETURN
SetShortcut exerelinNGCIntroEnd ESCAPE",">>> GREETINGS, STARFARER <<<

Welcome to the Nexerelin mod for Starsector!

Nexerelin is essentially a 4X extension to the game. Factions within the sector will wage war, create alliances and compete to control a greater share of the sector.

Nexerelin is compatible with a large number of community-made faction mods, which you can add for a more varied gameplay experience.","exerelinNGCIntroNextPage:Next
exerelinNGCIntroEnd:Skip","$introPage needs to be a float"
ExerelinNGCIntro2,ExerelinNGCIntroPage,"$introPage == 2.0
$isInIntro","SetShortcut exerelinNGCIntroNextPage RETURN
SetShortcut exerelinNGCIntroEnd ESCAPE","Your actions will gain or lose you influence with the factions in the Sector. The higher your influence with a faction, the greater access to their support and technology you will have.

At the start of the game, you pick a faction to join. You are a representative of your chosen faction, and your actions in the Sector will reflect on them. 

You can move to another faction later, if you can earn their trust. You can also choose to go it alone and set up your own empire.","exerelinNGCIntroNextPage:Next
exerelinNGCIntroPrevPage:Previous
exerelinNGCIntroEnd:Skip",
ExerelinNGCIntro3,ExerelinNGCIntroPage,"$introPage == 3.0
$isInIntro","SetShortcut exerelinNGCIntroEnd RETURN","Have fun and please leave any feedback on the Starsector forums :)","exerelinNGCIntroEnd:Start playing
exerelinNGCIntroPrevPage:Previous",
ExerelinNGCIntroEnd,NewGameOptionSelected,"$option==exerelinNGCIntroEnd","$isInIntro = false
FireAll ExerelinNGCStep1",,,
ExerelinNGCIntroDevStart,ExerelinNGCIntroPage,"$global.isDevMode",,,"99:nex_NGCDevStart:>> (dev) quick start
100:nex_NGCDevStartFast:>> (dev) quick start no time pass",
,,,,,,
,,,,,,
ExerelinNewGameOptionsEnter,ExerelinNGCStep1,,"NGCGetExerelinDefaults
FireAll ExerelinNGCOptions","Configure the Sector?",,"make sure this runs once per new game, so that Exerelin sector generation data is set up properly"
ExerelinNewGameOptionsBackToMain,NewGameOptionSelected,"$option==exerelinNGCOptionsBack","Nex_VisualCustomPanel clear
FireAll ExerelinNGCOptions",,,
ExerelinNewGameOptionsPopulate,ExerelinNGCOptions,,"SetShortcut exerelinNGCOptionsDone RETURN",,"exerelinNGCOptionsDone:Proceed
7:exerelinNGCSectorOptions:Sector generation
8:exerelinNGCFactionOptions:Faction settings
9:exerelinNGCOtherOptions:Other options",
ExerelinNGCListOptionEnableCorvusMode,ExerelinNGCOptions,"!$corvusMode","SetTooltip exerelinNGCEnableCorvusMode ""Sets whether to use the handcrafted core worlds (vanilla and from mods), or randomly generated systems. The Academy storyline will be disabled in random sector.""
SetTooltipHighlights exerelinNGCEnableCorvusMode ""Academy storyline"" disabled",,"exerelinNGCEnableCorvusMode:Disable random core worlds",
ExerelinNGCListOptionDisableCorvusMode,ExerelinNGCOptions,"$corvusMode","SetTooltip exerelinNGCDisableCorvusMode ""Sets whether to use the handcrafted core worlds (vanilla and from mods), or randomly generated systems. The Academy storyline will be disabled in random sector.""
SetTooltipHighlights exerelinNGCDisableCorvusMode ""Academy storyline"" disabled",,"exerelinNGCDisableCorvusMode:Enable random core worlds",
,,,,,,
ExerelinNewGameFactionConfig,ExerelinNGCFactionOptions,,"SetEnabled nex_NGCFactionToggleMenu true
SetShortcut exerelinNGCOptionsBack ESCAPE",,"nex_NGCFactionToggleMenu:Enable/disable factions
9:exerelinNGCOptionsBack:Back",
ExerelinNewGameFactionConfigCorvus,ExerelinNGCFactionOptions,"$corvusMode","SetEnabled nex_NGCFactionToggleMenu false
SetTooltip nex_NGCFactionToggleMenu ""Only works with random core worlds setting.""",,,
,,,,,,
ExerelinNewGameChoicesDev,ExerelinNGCOptions,"$global.isDevMode",,,"99:nex_NGCDevStart:>> (dev) quick start
100:nex_NGCDevStartFast:>> (dev) quick start no time pass",
,,,,,,
ExerelinNewGameOptionsDone,NewGameOptionSelected,"$option==exerelinNGCOptionsDone","FireBest ExerelinNGCStep2",,,
,,,,,,
nex_NGCFactionToggleMenu,NewGameOptionSelected,"$option==nex_NGCFactionToggleMenu","Nex_VisualCustomPanel create true
Nex_NGCFactionToggleV2 listFactions
SetShortcut nex_NGCFactionToggleMenu_leave ESCAPE",,"nex_NGCFactionToggleMenu_leave:Back",
nex_NGCFactionToggleMenuLeave,NewGameOptionSelected,"$option==nex_NGCFactionToggleMenu_leave","Nex_NGCFactionToggleV2 processRecommendedSize
FireAll ExerelinNGCFactionOptions",,,
,,,,,,
ExerelinNGCSectorOptionsMenu,NewGameOptionSelected,"$option==exerelinNGCSectorOptions","FireAll ExerelinNGCSectorOptions",,,
ExerelinNGCFactionOptionsMenu,NewGameOptionSelected,"$option==exerelinNGCFactionOptions","FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCOtherOptionsMenu,NewGameOptionSelected,"$option==exerelinNGCOtherOptions","FireAll ExerelinNGCOtherOptions",,,
nex_NGCReaddTooltip,NexReaddVisualPanelTooltip,,"Nex_VisualCustomPanel readdTooltip",,,
,,,,,,
nex_NGCCustomScenarioOption,ExerelinNGCOtherOptions,,"Nex_NGCCustomScenario menuOption
Nex_DynamicPaginatedOptions addOption nex_NGCCustomScenarioMenu ""Custom scenario – $nex_customScenarioName""",,,
,,,,,,
nex_NewGameSectorConfigNonCorvus,ExerelinNGCSectorOptions,"!$corvusMode","$nex_ngcSectorGenSlidersSeen = true",,,
nex_NewGameSectorConfig,ExerelinNGCSectorOptions,,"Nex_NGCProcessSectorGenerationSliders create
SetTooltip exerelinNGCSetNumFactions ""Note: pirates and independents are always present, unless disabled in config""
SetShortcut exerelinNGCSectorOptionsBack ESCAPE
FireAll ExerelinNGCSectorOptionsBack",,,
nex_NewGameSectorConfigBack,NewGameOptionSelected,"$option==exerelinNGCSectorOptionsBack","Nex_NGCProcessSectorGenerationSliders save
FireAll ExerelinNGCOptions",,,
nex_NewGameSectorConfigReset,NewGameOptionSelected,"$option==exerelinNGCSectorOptionsReset","Nex_NGCProcessSectorGenerationSliders reset
FireAll ExerelinNGCSectorOptions",,,
,,,,,,
nex_NGCAddFactionOptionsMenu,ExerelinNGCFactionOptions,,"Nex_VisualCustomPanel create true
Nex_NGCPopulateCustomPanelOptions faction",,,
,,,,,,
nex_NGCAddOtherOptionsMenu,ExerelinNGCOtherOptions,,"Nex_VisualCustomPanel create true
Nex_NGCPopulateCustomPanelOptions other",,,
nex_NGCOtherOptionsBack,ExerelinNGCOtherOptions,,"Nex_DynamicPaginatedOptions addOptionAllPages exerelinNGCOptionsBack Back
Nex_DynamicPaginatedOptions addShortcut exerelinNGCOptionsBack ESCAPE",,,
nex_NGCOtherOptions_show,ExerelinNGCOtherOptions,,"Nex_DynamicPaginatedOptions show",,,
,,,,,,
ExerelinNGCEnableCorvusMode,NewGameOptionSelected,"$option==exerelinNGCEnableCorvusMode","NGCSetCorvusMode true
FireAll ExerelinNGCOptions",,,
ExerelinNGCDisableCorvusMode,NewGameOptionSelected,"$option==exerelinNGCDisableCorvusMode","NGCSetCorvusMode false
Nex_NGCFactionToggle processRecommendedSize
FireAll ExerelinNGCOptions",,,
,,,,,,
nex_NGCCustomScenarioMenu,NewGameOptionSelected,"$option==nex_NGCCustomScenarioMenu","Nex_NGCCustomScenario menu",,,
nex_NGCCustomScenarioSelected,NewGameOptionSelected,"Nex_OptionStartsWith ""nex_NGCCustomScenario_""","Nex_NGCCustomScenario select
FireAll ExerelinNGCOtherOptions",,,
,,,,,,
nex_NGCFactionSelection,ExerelinNGCStep2,,"Nex_NGCListFactions listGroups","Which faction would you like to join?",,
nex_NGCFactionsBackToGroups,NewGameOptionSelected,"$option==nex_NGCFactionsBack","Nex_NGCListFactions listGroups",,,
,,,,,,
nex_NGCListFactions1,NewGameOptionSelected,"$option==nex_NGCListFactions1","Nex_NGCListFactions listFactions 1",,,
nex_NGCListFactions2,NewGameOptionSelected,"$option==nex_NGCListFactions2","Nex_NGCListFactions listFactions 2",,,
nex_NGCListFactions3,NewGameOptionSelected,"$option==nex_NGCListFactions3","Nex_NGCListFactions listFactions 3",,,
nex_NGCListFactions4,NewGameOptionSelected,"$option==nex_NGCListFactions4","Nex_NGCListFactions listFactions 4",,,
nex_NGCListFactions5,NewGameOptionSelected,"$option==nex_NGCListFactions5","Nex_NGCListFactions listFactions 5",,,
nex_NGCListFactions6,NewGameOptionSelected,"$option==nex_NGCListFactions6","Nex_NGCListFactions listFactions 6",,,
nex_NGCListFactions7,NewGameOptionSelected,"$option==nex_NGCListFactions7","Nex_NGCListFactions listFactions 7",,,
nex_NGCListFactions8,NewGameOptionSelected,"$option==nex_NGCListFactions8","Nex_NGCListFactions listFactions 8",,,
nex_NGCListFactions9,NewGameOptionSelected,"$option==nex_NGCListFactions9","Nex_NGCListFactions listFactions 9",,,
nex_NGCListFactions10,NewGameOptionSelected,"$option==nex_NGCListFactions10","Nex_NGCListFactions listFactions 10",,,
,,,,,,
nex_NGCJoinFaction,NewGameOptionSelected,"Nex_OptionStartsWith ""nex_NGCJoinFaction_""","Nex_NGCSetFactionFromJoinOption
FireAll ExerelinNGCStep3",,,
,,,,,,
nex_NGCDevStart,NewGameOptionSelected,"$option == nex_NGCDevStart","NGCSetPlayerFaction ""player""
NGCSetFreeStart true
NGCSetWithTimePass false
NGCAddShipAndComplement ""medusa_Starting""
NGCAddCredits 1000000
NGCAddCharacterPoints 100
NGCDone",,,
nex_NGCDevStartFast,NewGameOptionSelected,"$option == nex_NGCDevStartFast","NGCSetPlayerFaction ""player""
NGCSetFreeStart true
NGCSetWithTimePass false
NGCAddShipAndComplement ""medusa_Starting""
NGCAddCredits 1000000
NGCAddCharacterPoints 100
NGCDone",,,
nex_NGCRandomFaction,NewGameOptionSelected,"$option == nex_NGCJoinRandomFaction","NGCSetPlayerFaction ""random""
$factionGroup = 0
FireAll ExerelinNGCStep3",,,
nex_NGCOwnFaction,NewGameOptionSelected,"$option == nex_NGCJoinOwnFaction","NGCSetPlayerFaction ""player""
NGCSetFreeStart false
$factionGroup = 0
FireAll ExerelinNGCStep3",,,
nex_NGCFreeStart,NewGameOptionSelected,"$option == nex_NGCFreeStart","NGCSetPlayerFaction ""player""
NGCSetFreeStart true
$factionGroup = 0
FireAll ExerelinNGCStep3",,,
nex_NGCCustomStart,NewGameOptionSelected,"$option == nex_NGCCustomStart","Nex_NGCCustomStart menu",,"1:nex_NGCDone:Done",
nex_NGCCustomStartByTrigger,Nex_NGCCustomStartMenu,,"Nex_NGCCustomStart menu",,,
,,,,,,
nex_NGCPickStartingShips,ExerelinNGCStep3,,"Nex_NGCStartFleetOptionsV2",,,
nex_NGCStartShipsSolo,NewGameOptionSelected,"$option == nex_NGCFleetSolo","NGCAddStartingShipsByFleetType SOLO
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsCombatSmall,NewGameOptionSelected,"$option == nex_NGCFleetCombatSmall","NGCAddStartingShipsByFleetType COMBAT_SMALL
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsTradeSmall,NewGameOptionSelected,"$option == nex_NGCFleetTradeSmall","NGCAddStartingShipsByFleetType TRADE_SMALL
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsExplorerSmall,NewGameOptionSelected,"$option == nex_NGCFleetExplorerSmall","NGCAddStartingShipsByFleetType EXPLORER_SMALL
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsCarrierSmall,NewGameOptionSelected,"$option == nex_NGCFleetCarrierSmall","NGCAddStartingShipsByFleetType CARRIER_SMALL
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsCombatLarge,NewGameOptionSelected,"$option == nex_NGCFleetCombatLarge","NGCAddStartingShipsByFleetType COMBAT_LARGE
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsTradeLarge,NewGameOptionSelected,"$option == nex_NGCFleetTradeLarge","NGCAddStartingShipsByFleetType TRADE_LARGE
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsExplorerLarge,NewGameOptionSelected,"$option == nex_NGCFleetExplorerLarge","NGCAddStartingShipsByFleetType EXPLORER_LARGE
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsCarrierLarge,NewGameOptionSelected,"$option == nex_NGCFleetCarrierLarge","NGCAddStartingShipsByFleetType CARRIER_LARGE
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsSuper,NewGameOptionSelected,"$option == nex_NGCFleetSuper","NGCAddStartingShipsByFleetType SUPER
FireBest ExerelinNGCStep4",,,
nex_NGCStartShipsGrandFleet,NewGameOptionSelected,"$option == nex_NGCFleetGrandFleet","NGCAddStartingShipsByFleetType GRAND_FLEET
FireBest ExerelinNGCStep4",,,
,,,,,,
nex_NGCStartShipsBack,NewGameOptionSelected,"$option == nex_NGCFleetBack","Nex_VisualCustomPanel clear
Nex_NGCListFactions listFactions $factionGroup",,,
nex_NGCStartShipsBackToCustomStart,NewGameOptionSelected,"$option == nex_NGCFleetBack
$nex_customStart != null","Nex_VisualCustomPanel clear
Nex_NGCCustomStart unset
Nex_NGCCustomStart menu",,,
,,,,,,
nex_NGCCustomStartSelection,NewGameOptionSelected,"Nex_OptionStartsWith ""nex_NGCCustomStart_""","Nex_NGCCustomStart select",,,
,,,,,,
nex_NGCFinalize,ExerelinNGCStep4,,"AddText ""Starting experience and assets?""
Nex_NGCStartResources createOptions
SetShortcut nex_NGCStartBack ESCAPE",,"nex_NGCStartEnsign:Ensign (20,000 credits, level 1)
nex_NGCStartLieutenant:Lieutenant (75,000 credits, level 3, one officer)
nex_NGCStartCommander:Commander (250,000 credits, level 6, two officers)
nex_NGCCustomResourcesStart:Custom...",
nex_NGCFinalizeSuper,ExerelinNGCStep4,"$option == nex_NGCFleetSuper","AddText ""Starting experience and assets?""
Nex_NGCStartResources createOptions
SetShortcut nex_NGCStartBack ESCAPE",,"nex_NGCStartAgent:Agent (20,000 credits, level 1)
nex_NGCStartSpecialAgent:Special Agent (75,000 credits, level 3)
nex_NGCCustomResourcesStart:Custom...",
nex_NGCStep4Reroll,NewGameOptionSelected,"$option == nex_NGCStep4FleetReroll","NGCClearStartingGear
Nex_NGCStartResources reroll
NGCAddStartingShipsByFleetType $nex_lastSelectedFleetType
Nex_NGCStartResources createOptions
SetShortcut nex_NGCStartBack ESCAPE",,"nex_NGCStartEnsign:Ensign (20,000 credits, level 1)
nex_NGCStartLieutenant:Lieutenant (75,000 credits, level 3, one officer)
nex_NGCStartCommander:Commander (250,000 credits, level 6, two officers)
nex_NGCCustomResourcesStart:Custom...",
nex_NGCStep4RerollSuper,NewGameOptionSelected,"$option == nex_NGCStep4FleetReroll
$nex_lastSelectedFleetType == SUPER","NGCClearStartingGear
Nex_NGCStartResources reroll
NGCAddStartingShipsByFleetType $nex_lastSelectedFleetType
Nex_NGCStartResources createOptions
SetShortcut nex_NGCStartBack ESCAPE",,"nex_NGCStartAgent:Agent (20,000 credits, level 1)
nex_NGCStartSpecialAgent:Special Agent (75,000 credits, level 3)
nex_NGCCustomResourcesStart:Custom...",
,,,,,,
nex_NGCNormalStart,NewGameOptionSelected,"$option == nex_NGCStartEnsign","NGCAddCredits 20000
NGCAddCharacterPoints 1
NGCSetNumStartingOfficers 0
SetShortcut nex_NGCDone RETURN",,"1:nex_NGCDone:Done",
nex_NGCStartLieutenant,NewGameOptionSelected,"$option == nex_NGCStartLieutenant","NGCAddCredits 75000
NGCAddCharacterPoints 1
Nex_NGCAddLevel 3
NGCSetNumStartingOfficers 1
SetShortcut nex_NGCDone RETURN",,"1:nex_NGCDone:Done",
nex_NGCStartCommander,NewGameOptionSelected,"$option == nex_NGCStartCommander","NGCAddCredits 250000
NGCAddCharacterPoints 1
Nex_NGCAddLevel 6
NGCSetNumStartingOfficers 2
SetShortcut nex_NGCDone RETURN",,"1:nex_NGCDone:Done",
nex_NGCStartAgent,NewGameOptionSelected,"$option == nex_NGCStartAgent","NGCAddCredits 20000
NGCAddCharacterPoints 1
NGCSetNumStartingOfficers 0
SetShortcut nex_NGCDone RETURN",,"1:nex_NGCDone:Done",
nex_NGCStartSpecialAgent,NewGameOptionSelected,"$option == nex_NGCStartSpecialAgent","NGCAddCredits 75000
NGCAddCharacterPoints 1
Nex_NGCAddLevel 3
NGCSetNumStartingOfficers 0
SetShortcut nex_NGCDone RETURN",,"1:nex_NGCDone:Done",
nex_NGCStartCustomResources,NewGameOptionSelected,"$option == nex_NGCCustomResourcesStart","Nex_NGCStartResources save
NGCAddCharacterPoints 1
SetShortcut nex_NGCDone RETURN",,,
nex_NGCStartBack,NewGameOptionSelected,"$option == nex_NGCStartBack","NGCClearStartingGear
unset $nex_lastSelectedFleetType
FireAll ExerelinNGCStep3",,,
nex_NGCStartBackToCustomStart,NewGameOptionSelected,"$option == nex_NGCStartBack
$nex_customStart != null
Nex_IsNull $nex_lastSelectedFleetType","NGCClearStartingGear
Nex_NGCCustomStart unset
FireBest Nex_NGCCustomStartMenu",,,
nex_NGCDoneOption,NewGameOptionSelected,"$option == nex_NGCDone","Nex_NGCFinalize
NGCDone",,,
"#END NGC options",,,,,,
,,,,,,
# Market special options,,,,,,
ExerelinMarketAddOptionSpecial,PopulateOptions,"$menuState == main","SetShortcut exerelinMarketSpecial ""S"" true",,"21:exerelinMarketSpecial:Special functions",
ExerelinMarketSpecialOptions,DialogOptionSelected,"$option == exerelinMarketSpecial","$menuState = exerelinSpecial
FireAll ExerelinMarketSpecialInitialize
FireAll ExerelinMarketSpecial",,,
ExerelinMarketSpecialBackOption,ExerelinMarketSpecial,,"SetShortcut exerelinMarketSpecialBack ESCAPE",,"25:exerelinMarketSpecialBack:Back",
ExerelinMarketSpecialBack,DialogOptionSelected,"$option == exerelinMarketSpecialBack","ExerelinShowDefaultVisual
$menuState = main 0
FireAll PopulateOptions",,,
"#END Market special options",,,,,,
,,,,,,
# Military options override + additions,,,,,,
marketHostileSel,DialogOptionSelected,"$option == marketConsiderHostile","Nex_MarketCMD showDefenses",,,
marketHostileGoBackSel,DialogOptionSelected,"$option == mktGoBack","Nex_MarketCMD cleanupResponder
ShowDefaultVisual
FireAll PopulateOptions",,,
marketHostileEngageSel,DialogOptionSelected,"$option == mktEngage","Nex_MarketCMD engage",,,
marketHostileRaidSel,DialogOptionSelected,"$option == mktRaid","Nex_MarketCMD raidMenu",,,
marketHostileRaidNonMarket,DialogOptionSelected,"$option == mktRaidNonMarket","Nex_MarketCMD raidNonMarket",,,"$option == mktRaidNonMarket"
marketHostileRaidGoBackSel,DialogOptionSelected,"$option == mktRaidGoBack","Nex_MarketCMD goBackToDefenses",,,
marketHostileRaidRareSel,DialogOptionSelected,"$option == mktRaidRare","Nex_MarketCMD raidRare",,,
marketHostileRaidValuableSel,DialogOptionSelected,"$option == mktRaidValuable","Nex_MarketCMD raidValuable",,,
marketHostileRaidDisruptSel,DialogOptionSelected,"$option == mktRaidDisrupt","Nex_MarketCMD raidDisrupt",,,
marketHostileRaidConfirmSel,DialogOptionSelected,"$option == mktRaidConfirm","Nex_MarketCMD raidConfirm",,,
marketHostileRaidConfirmContSel,DialogOptionSelected,"$option == mktRaidConfirmContinue","Nex_MarketCMD raidConfirmContinue",,,
marketHostileRaidNeverMindSel,DialogOptionSelected,"$option == mktRaidNeverMind","Nex_MarketCMD raidNeverMind",,,
marketHostileRaidResultSel,DialogOptionSelected,"$option == mktRaidResult","Nex_MarketCMD raidResult",,,
marketHostileRaidPostRaidDefault,PostGroundRaid,,"Nex_MarketCMD addContinueToRaidResultOption",,,
,,,,,,
,,,,,,
marketHostileBombardSel,DialogOptionSelected,"$option == mktBombard","Nex_MarketCMD bombardMenu",,,
marketHostileBombardGoBackSel,DialogOptionSelected,"$option == mktBombardGoBack","Nex_MarketCMD goBackToDefenses",,,
marketHostileBombardTacticalSel,DialogOptionSelected,"$option == mktBombardTactical","Nex_MarketCMD bombardTactical",,,
marketHostileBombardSaturationSel,DialogOptionSelected,"$option == mktBombardSaturation","Nex_MarketCMD bombardSaturation",,,
marketHostileBombardConfirmSel,DialogOptionSelected,"$option == mktBombardConfirm","Nex_MarketCMD bombardConfirm",,,
marketHostileBombardNeverMindSel,DialogOptionSelected,"$option == mktBombardNeverMind","Nex_MarketCMD bombardNeverMind",,,
marketHostileBombardResultSel,DialogOptionSelected,"$option == mktBombardResult","Nex_MarketCMD bombardResult",,,
,,,,,,
nex_marketHostileInvadeSel,DialogOptionSelected,"$option == nex_mktInvade","Nex_MarketCMD invadeMenu",,,
nex_marketHostileInvadeGoBackSel,DialogOptionSelected,"$option == nex_mktInvadeGoBack","Nex_MarketCMD goBackToDefenses",,,
nex_marketHostileInvadeConfirmSel,DialogOptionSelected,"$option == nex_mktInvadeConfirm","Nex_MarketCMD invadeConfirm",,,
nex_marketHostileInvadeContinue,DISABLED_DialogOptionSelected,"$option == nex_mktInvadeContinue","ShowDefaultVisual
FireBest PopulateOptions",,,
nex_marketHostileInvadeAbortSel,DialogOptionSelected,"$option == nex_mktInvadeAbort","Nex_MarketCMD invadeAbort",,,
nex_marketHostileInvadeResultSel,DialogOptionSelected,"$option == nex_mktInvadeResult","Nex_MarketCMD invadeResult",,,
nex_marketHostileInvadeResultAndradaSel,DialogOptionSelected,"$option == nex_mktInvadeResultAndrada","Nex_MarketCMD invadeResultAndrada",,,
"#END Military options override + additions",,,,,,
,,,,,,
# Market directory options,,,,,,
nex_factionDirectoryOption,ExerelinMarketSpecial,,"SetShortcut nex_factionDirectoryMain D",,"7:nex_factionDirectoryMain:Faction directory",
nex_factionDirectory,DialogOptionSelected,"$option == nex_factionDirectoryMain","FireAll ExerelinFactionDirectory",,,
nex_factionDirectoryByTrigger,ExerelinFactionDirectory,,"Nex_FactionDirectory listGroups","Which faction do you want to look up?",,
,,,,,,
nex_factionDirectoryList1,DialogOptionSelected,"$option == nex_factionDirectoryList1","Nex_FactionDirectory listFactions 1",,,
nex_factionDirectoryList2,DialogOptionSelected,"$option == nex_factionDirectoryList2","Nex_FactionDirectory listFactions 2",,,
nex_factionDirectoryList3,DialogOptionSelected,"$option == nex_factionDirectoryList3","Nex_FactionDirectory listFactions 3",,,
nex_factionDirectoryList4,DialogOptionSelected,"$option == nex_factionDirectoryList4","Nex_FactionDirectory listFactions 4",,,
nex_factionDirectoryList5,DialogOptionSelected,"$option == nex_factionDirectoryList5","Nex_FactionDirectory listFactions 5",,,
nex_factionDirectoryList6,DialogOptionSelected,"$option == nex_factionDirectoryList6","Nex_FactionDirectory listFactions 6",,,
nex_factionDirectoryList7,DialogOptionSelected,"$option == nex_factionDirectoryList7","Nex_FactionDirectory listFactions 7",,,
nex_factionDirectoryList8,DialogOptionSelected,"$option == nex_factionDirectoryList8","Nex_FactionDirectory listFactions 8",,,
nex_factionDirectoryList9,DialogOptionSelected,"$option == nex_factionDirectoryList9","Nex_FactionDirectory listFactions 9",,,
nex_factionDirectoryList10,DialogOptionSelected,"$option == nex_factionDirectoryList10","Nex_FactionDirectory listFactions 10",,,
,,,,,,
nex_factionDirectoryPrint,DialogOptionSelected,"Nex_OptionStartsWith ""nex_printFactionMarkets_""","Nex_FactionDirectory print",,,
"#END Market directory options",,,,,,
,,,,,,
# Prisoner options,,,,,,
ExerelinMarketPrisonerOption,ExerelinMarketSpecial,"$hasMarket
$faction.id != ""neutral""","SetEnabled exerelinUsePrisoner true
SetShortcut exerelinUsePrisoner P",,"4:exerelinUsePrisoner:Prisoner actions",
ExerelinMarketPrisonerOptionNoPrisoners,ExerelinMarketSpecial,"$hasMarket
$faction.id != ""neutral""
!HasItem prisoner score:10","SetTooltip exerelinUsePrisoner ""You have no prisoners!""
SetEnabled exerelinUsePrisoner false",,,
ExerelinMarketPrisonerOptionNotAllowed,ExerelinMarketSpecial,"$hasMarket
$faction.id != ""neutral""
!FactionAllowPrisonerActions  $faction.id score:20","SetTooltip exerelinUsePrisoner ""$TheFaction have no use for prisoners.""
SetEnabled exerelinUsePrisoner false",,,
nex_marketPrisonerOptionRecentlyInvaded,ExerelinMarketSpecial,"$hasMarket
$faction.nex_recentlyInvaded score:20","Nex_PrisonerAction getCooldown
SetTooltip exerelinUsePrisoner ""$TheFaction is not currently accepting prisoners due to your recent invasions of their territory. This will last for $nex_recentInvasionCooldown.""
SetTooltipHighlightColors exerelinUsePrisoner hColor
SetTooltipHighlights exerelinUsePrisoner $nex_recentInvasionCooldown
SetEnabled exerelinUsePrisoner false",,,
ExerelinPrisonerOptionListMain,DialogOptionSelected,"$option == exerelinUsePrisoner","$menuState = prisoner 0
GetNumSpecialPeople
ShowVisual ""graphics/illustrations/pirate_station.jpg""
FireAll ExerelinPrisonerOption",,,
ExerelinPrisonerOptionNumPrisoners,ExerelinPrisonerOption,,"SetTextHighlights $numPrisoners","You have $numPrisoners prisoner(s).",,
ExerelinPrisonerOptionListRepatriate,ExerelinPrisonerOption,"$faction.id != ""player""","SetTooltip exerelinPrisonerRepatriate ""Release a prisoner for a reputation boost with $theFaction.""
SetShortcut exerelinPrisonerRepatriate P",,"exerelinPrisonerRepatriate:Repatriate prisoner",
ExerelinPrisonerOptionListRepatriateMaxRep,ExerelinPrisonerOption,"$faction.id != ""player""
Nex_PrisonerAction isAtMaxRep","SetTooltip exerelinPrisonerRepatriate ""Your reputation with $theFaction is already at the maximum level.""
SetEnabled exerelinPrisonerRepatriate false",,,
ExerelinPrisonerOptionListRansomBase,ExerelinPrisonerOption,,,,"exerelinPrisonerRansom:Collect ransom",
ExerelinPrisonerOptionListRansom,ExerelinPrisonerOption,,"Nex_PrisonerAction getValue
SetTooltip exerelinPrisonerRansom ""Return a prisoner in exchange for a ransom of $ransomValue credits.""
SetTooltipHighlightColors exerelinPrisonerRansom buttonShortcut 
SetTooltipHighlights exerelinPrisonerRansom $ransomValue
SetEnabled exerelinPrisonerRansom true
SetShortcut exerelinPrisonerRansom R",,,
ExerelinPrisonerOptionListRansomHostile,ExerelinPrisonerOption,"RepIsAtBest $faction.id HOSTILE
!IsPirateFaction $faction.id
!$faction.c:allowsTransponderOffTrade
!$market.mc:free_market","SetTooltip exerelinPrisonerRansom ""$TheFactionLong are $relAdjective to you and refuse to consider any ransom payment.""
SetEnabled exerelinPrisonerRansom false",,,
ExerelinPrisonerOptionListRansomHostileCanDisableTransponder,ExerelinPrisonerOption,"RepIsAtBest $faction.id HOSTILE
!IsPirateFaction $faction.id
$player.transponderOn","SetTooltip exerelinPrisonerRansom ""$TheFactionLong are $relAdjective to you and refuse to consider any ransom payment. Coming in with your transponder off might allow an under-the-table deal.""
SetEnabled exerelinPrisonerRansom false",,,
#ExerelinPrisonerOptionListRansomPirates,ExerelinPrisonerOption,"IsPirateFaction $faction.id","SetTooltip exerelinPrisonerRansom ""Pirates do not pay ransom.""
SetEnabled exerelinPrisonerRansom false",,,
#ExerelinPrisonerOptionListSellSlave,ExerelinPrisonerOption,"$tradeMode != NONE","Nex_PrisonerAction getValue
SetTooltip exerelinPrisonerSellSlave ""Sell a prisoner as a slave for $slaveValue credits. This will anger lawful factions.""
SetTooltipHighlightColors exerelinPrisonerSellSlave buttonShortcut 
SetTooltipHighlights exerelinPrisonerSellSlave $slaveValue
SetEnabled exerelinPrisonerSellSlave true
SetShortcut exerelinPrisonerSellSlave S",,"exerelinPrisonerSellSlave:Sell as slave",
#ExerelinPrisonerOptionListSellSlaveNoMarket,ExerelinPrisonerOption,"$tradeMode == NONE","SetTooltip exerelinPrisonerSellSlave ""You cannot dock with $market to perform this trade.""
SetEnabled exerelinPrisonerSellSlave false",,"exerelinPrisonerSellSlave:Sell as slave",
ExerelinPrisonerOptionListBack,ExerelinPrisonerOption,,"SetShortcut exerelinMarketSpecial ESCAPE",,"exerelinMarketSpecial:Back",
ExerelinPrisonerRepatriate,DialogOptionSelected,"$option == exerelinPrisonerRepatriate","Nex_PrisonerAction repatriate
FireAll ExerelinPrisonerPostTrade","The prisoner has been repatriated.",,
ExerelinPrisonerRansom,DialogOptionSelected,"$option == exerelinPrisonerRansom","Nex_PrisonerAction ransom
SetTextHighlights $ransomValue
FireAll ExerelinPrisonerPostTrade","The prisoner has been ransomed for $ransomValue credits.",,
ExerelinPrisonerSellSlave,DialogOptionSelected,"$option == exerelinPrisonerSellSlave","Nex_PrisonerAction sellSlave
SetTextHighlights $slaveValue
FireAll ExerelinPrisonerPostTrade","You have sold the prisoner into slavery for $slaveValue credits.",,
ExerelinPrisonerAfterTrade,ExerelinPrisonerPostTrade,"HasItem prisoner","GetNumSpecialPeople
FireAll ExerelinPrisonerOption",,,
ExerelinPrisonerAfterTradeNoMorePrisoners,ExerelinPrisonerPostTrade,"!HasItem prisoner","$menuState = exerelinSpecial 0
FireAll ExerelinMarketSpecial","You have no more prisoners.",,
"#END Prisoner options",,,,,,
,,,,,,
# Mining options,,,,,,
nex_openAsteroid,OpenInteractionDialog,"$isAsteroid
!Nex_IsModActive ""stellar_industrialist""","ShowDefaultVisual
PrintDescription 3
FireAll PopulateOptions","Your $shipOrFleet approaches the asteroid.",,
nex_leaveAsteroid,PopulateOptions,"$isAsteroid
!Nex_IsModActive ""stellar_industrialist""","SetShortcut marketLeave ESCAPE",,"100:marketLeave:Leave",
,,,,,,
nex_miningOption,PopulateOptions,"$nex_canMine
!$isAsteroid","SetEnabled nex_miningPreview true",,"3:nex_miningPreview:Mine planet",
nex_miningOptionAsteroid,PopulateOptions,"$nex_canMine
$isAsteroid","SetEnabled nex_miningPreview true",,"3:nex_miningPreview:Mine asteroid",
nex_miningOptionUnsurveyed,PopulateOptions,"$nex_canMine
!$isAsteroid
$market.surveyLevel != FULL","SetTooltip nex_miningPreview ""You need to survey the planet first!""
SetEnabled nex_miningPreview false",,,
nex_miningOptionCooldown,PopulateOptions,"$nex_canMine
$player.nex_miningCooldown","SetTooltip nex_miningPreview ""On cooldown, please wait a day before mining again.""
SetEnabled nex_miningPreview false",,,
,,,,,,
nex_miningPreview,DialogOptionSelected,"$option == nex_miningPreview","Nex_PrintMiningInfo planet
FireAll nex_MiningOption",,,
nex_miningMineOption,nex_MiningOption,"$player.miningStrength > 0","SetEnabled nex_miningStart true
SetShortcut nex_miningStart RETURN
SetShortcut nex_miningBack ESCAPE",,"nex_miningStart:Start mining
nex_miningFleetInfo:List mining ships
nex_miningListTools:What ships and weapons can mine?
nex_miningBack:Back",
nex_miningMineOptionNoMiners,nex_MiningOption,"$player.miningStrength <= 0","SetTooltip nex_miningStart ""You have no ships capable of mining.""
SetEnabled nex_miningStart false
SetShortcut nex_miningBack ESCAPE",,"nex_miningStart:Start mining
nex_miningListTools:What ships and weapons can mine?
nex_miningBack:Back",
nex_miningFleetInfo,DialogOptionSelected,"$option == nex_miningFleetInfo","Nex_PrintMiningInfo fleet
FireAll nex_miningOption",,,
nex_miningListTools,DialogOptionSelected,"$option == nex_miningListTools","Nex_PrintMiningInfo tools
FireAll nex_miningOption",,,
nex_miningStart,DialogOptionSelected,"$nex_canMine
$option == nex_miningStart","$player.nex_miningCooldown = true 1
Nex_GetMiningResults 1
ShowDefaultVisual",,"nex_miningLeave:Leave",
,,,,,,
nex_miningBack,DialogOptionSelected,"$option == nex_miningBack","FireAll PopulateOptions",,,
nex_miningLeave,DialogOptionSelected,"$option == nex_miningLeave","DismissDialog",,,
"#END Mining options",,,,,,
,,,,,,
# Fleet requests,,,,,,
nex_fleetRequestOpt,ExerelinMarketSpecial,,"SetShortcut nex_fleetRequest_main R",,"8:nex_fleetRequest_main:Request a fleet",
nex_fleetRequest,DialogOptionSelected,"$option == nex_fleetRequest_main","FireAll Nex_FleetRequest",,,
nex_fleetRequestByTriggerFirstTime,Nex_FleetRequest,"!$nex_fleetRequest_initComplete","Nex_FleetRequest init
ShowVisual ""graphics/illustrations/hound_hangar.jpg""","You can dispatch a fleet or task force to accomplish an objective.",,
nex_fleetRequestByTrigger,Nex_FleetRequest,,"Nex_FleetRequest mainMenu
SetShortcut nex_fleetRequestCancel ""ESCAPE""",,,
,,,,,,
nex_fleetRequest_selectTypeMenu,DialogOptionSelected,"$option == nex_fleetRequest_selectType","SetTooltip nex_fleetRequest_setType_basestrike ""Sends a task force to destroy a concealed pirate or Luddic Path base. The base's star system must be known. Will not earn bounty rewards.""
SetTooltip nex_fleetRequest_setType_defense ""Patrols the target market's system. Once arrived, will remain on station for 150 days.""
SetTooltip nex_fleetRequest_setType_relief ""Sends a relief fleet to address instability on the target market. Can only target markets not under player control. High cost, scaling with market size.""
SetTooltipHighlightColors nex_fleetRequest_setType_defense hColor
SetTooltipHighlights nex_fleetRequest_setType_defense 150",,"nex_fleetRequest_setType_invasion:Invasion
nex_fleetRequest_setType_basestrike:Base strike
nex_fleetRequest_setType_defense:Defense
nex_fleetRequest_setType_relief:Relief
nex_fleetRequest_main:Back",
nex_fleetRequest_selectType,DialogOptionSelected,"Nex_OptionStartsWith ""nex_fleetRequest_setType_""","Nex_FleetRequest setType
FireAll Nex_FleetRequest",,,
,,,,,,
nex_fleetRequest_setStrengthMenu,DialogOptionSelected,"$option == nex_fleetRequest_strengthMenu","Nex_FleetRequest strengthMenu",,,
nex_fleetRequest_setStrength,DialogOptionSelected,"$option == nex_fleetRequest_setStrength","Nex_FleetRequest setStrength
FireAll Nex_FleetRequest",,,
,,,,,,
nex_fleetRequest_selectSourceMenu,DialogOptionSelected,"$option == nex_fleetRequest_selectSource","Nex_FleetRequest sourceMenu",,,
nex_fleetRequest_selectSource,DialogOptionSelected,"Nex_OptionStartsWith ""nex_fleetRequest_setSource_""","Nex_FleetRequest setSource
FireAll Nex_FleetRequest",,,
,,,,,,
nex_fleetRequest_selectTargetMenu,DialogOptionSelected,"$option == nex_fleetRequest_selectTarget","Nex_FleetRequest targetMenu",,,
nex_fleetRequest_selectTarget,DialogOptionSelected,"Nex_OptionStartsWith ""nex_fleetRequest_setTarget_""","Nex_FleetRequest setTarget
FireAll Nex_FleetRequest",,,
,,,,,,
nex_fleetRequest_proceed,DialogOptionSelected,"$option == nex_fleetRequest_proceed","Nex_FleetRequest proceed",,,
"#END Fleet requests",,,,,,
,,,,,,
# Decivilized market events,,,,,,
nex_decivEvent_opt,PopulateOptions,"$market.isPlanetConditionMarketOnly
$market.mc:decivilized score:100
Nex_DecivEvent hasEvent
!HostileFleetNearbyAndAware",,"One of the survivors' settlements on the surface is hailing your ship.","nex_decivEvent_interact:Answer the hail",
nex_decivEvent_opthostileFleetNearby,PopulateOptions,"$market.isPlanetConditionMarketOnly
$market.mc:decivilized score:100
Nex_DecivEvent hasEvent
HostileFleetNearbyAndAware","SetEnabled nex_decivEvent_interact false","One of the survivors' settlements on the surface is hailing your ship. But with a hostile fleet nearby, it's probably not something you have time to deal with right now.","nex_decivEvent_interact:Answer the hail",
nex_decivEvent_init,DialogOptionSelected,"$option == nex_decivEvent_interact","Nex_DecivEvent greet","You open a comm link, your comms officer configuring the protocol to interface with whatever jury-rigged system the other party is using.",,
nex_decivEvent_greetingFirstTime,Nex_DecivEvent_Greeting,"!$market.nex_decivEvent_visitedBefore
!Nex_DecivEvent wasCivilized",,"""Hello? Is this thing on?

Oh, hello, stranger! It's been a long time since anyone swung by. Is the Sector still alive? Where'd you get that ship? Did Half-Life 3 finally come out?""

Maybe dropping off a datacube for $himOrHer to read at $hisOrHer own leisure would get $himOrHer to stop asking questions.
OR
""A ship! A ship, a ship, a ship!!

Gods, are we glad to see you! For the longest time we were wondering if there was even anyone else alive out there. My name is $personName, and I can't wait to shake your hand!""","nex_decivEvent_greetingContinue:Continue",
nex_decivEvent_greetingFirstTimeWasCivilized,Nex_DecivEvent_Greeting,"!$market.nex_decivEvent_visitedBefore
Nex_DecivEvent wasCivilized",,"""Praise the gods! I was starting to fear we'd never see a ship in the sky again.

As you can guess, we've had no contact with the rest of the Sector since... since the previous government fell and everything went to hell here.""
OR
""A $shipOrFleet! I guess the Sector hasn't forgotten $market after all.

Most of us are stuck here on $market, living day to day. It's a wonder most of us are even alive, honestly.""","nex_decivEvent_greetingContinue:Continue",
nex_decivEvent_greeting,Nex_DecivEvent_Greeting,"$market.nex_decivEvent_visitedBefore","Nex_DecivEvent trade","""Hello, space traveler! I see you decided to stop by again.""
OR
""Oh, it's $playerName.""",,
nex_decivEvent_greetingRefugees,Nex_DecivEvent_Greeting,"$market.nex_decivEvent_visitedBefore
$market.nex_decivEvent_type == ""refugees""","Nex_DecivEvent trade","""You've come back...?""",,
nex_decivEvent_greetingFirstTimeContinue,DialogOptionSelected,"$option == nex_decivEvent_greetingContinue","Nex_DecivEvent trade",,,
,,,,,,
nex_decivEvent_barterGeneric,Nex_DecivEvent_OfferText,"$market.nex_decivEvent_type == ""barter""","SetTextHighlights $nex_decivEvent_takeName $nex_decivEvent_giveName","""Now, we happen to be in need of some $nex_decivEvent_takeName. In return, we can give you some $nex_decivEvent_giveName. Interested?""
OR
""Let's make a trade, spacer. You give us $nex_decivEvent_takeName, in exchange for some $nex_decivEvent_giveName. How about that?""",,
nex_decivEvent_barterRareOre,Nex_DecivEvent_OfferText,"$market.nex_decivEvent_type == ""barter""
$market.nex_decivEvent_giveItem == ""rare_ore""","SetTextHighlights $nex_decivEvent_giveName $nex_decivEvent_takeName","""I've got an offer for you. We've got a decent stockpile of $nex_decivEvent_giveName, but not the refining facilities to process it. At the same time, we could use some $nex_decivEvent_takeName. Would you be interested in a trade?""",,
nex_decivEvent_barterRareMetals,Nex_DecivEvent_OfferText,"$market.nex_decivEvent_type == ""barter""
$market.nex_decivEvent_giveItem == ""rare_metals""","SetTextHighlights $nex_decivEvent_giveName $nex_decivEvent_takeName","""Right, here's the deal. We happen to have a large stock of $nex_decivEvent_giveName — very valuable before the Collapse. But we lack the manufacturing industry needed to make use of them; here on $market, they're just shiny baubles. If you happen to have some $nex_decivEvent_takeName, we could make a trade.""",,
nex_decivEvent_barterCrew,Nex_DecivEvent_OfferText,"$market.nex_decivEvent_type == ""barter""
$market.nex_decivEvent_giveItem == ""crew""","SetTextHighlights $nex_decivEvent_takeName","""Now, listen here. I've got a load of prisoners captured in a recent raid. More than I want to feed, in truth. I suppose an enterprising spacefarer like yourself would have no trouble putting them to work on a starship. All I ask for in exchange is a little $nex_decivEvent_takeName.""

Dealing in slaves — as this offer surely is — tends to be frowned on under most moral systems. On the other hand, the captives may be considerably better off on your $shipOrFleet than with… this person.",,
nex_decivEvent_refugees,Nex_DecivEvent_OfferText,"$market.nex_decivEvent_type == ""refugees""","SetTextHighlights $nex_decivEvent_giveCount","""Please help us, good starfarer. Me and my friends, we've been stranded on this world for... for far too long. A few more months here and we'll be dead, or worse.

Let us come aboard your $shipOrFleet. There are $nex_decivEvent_giveCount of us, all willing to work our passage off this place.""
OR
""I beg you for a favor, $playerName. This place, $market, it's no place to live. Not with the total collapse of society, with every meal possibly our last, with packs of raiders and looters seizing everything — and everyone — they can get their hands on.

Please, take us away from this world. We'll work on your $shipOrFleet, all $nex_decivEvent_giveCount of us. We would be eternally grateful.""",,
nex_decivEvent_bomb,Nex_DecivEvent_OfferText,"$market.nex_decivEvent_type == ""bomb""","SetTextHighlights $nex_decivEvent_giveName $nex_decivEvent_takeCount","""Right, so there's something only you can help us with.

There's a nearby pack of knaves and scum that needs dealing with. We'd clear the whole rotten nest out ourselves, but alas, their defenses are a little too entrenched. You, on the other hand… with your spaceship, you could drop a few  bombs on them and blow them straight to hell. In return, we'll give you some $nex_decivEvent_giveName. Sounds good?""

$personName transmits several images and the coordinates of the target. With the rudimentary defenses present, you estimate that it'd take no more than $nex_decivEvent_takeCount fuel to completely destroy this settlement. Assuming, of course, that intervening in $market's conflicts is a good idea.",,
nex_decivEvent_colony,Nex_DecivEvent_OfferText,"$market.nex_decivEvent_type == ""foundColony""","SetTextHighlights ""supplies"" ""machinery"".
AddTextSmall ""Will create a new independent colony $onOrAt $market.""
SetTextHighlights independent","""We have a great favor to ask of you, friend $playerName.

The people of $market desire to reach the stars once more. We've organized ourselves a stable polity here, and with just a little more assistance we could become a part of the Sector community once again. 

All we need is a little in the way of supplies and machinery. If you would be so generous as to provide these, we would be immensely grateful.""",,
,,,,,,
nex_decivEvent_accept,DialogOptionSelected,"$option == nex_decivEvent_accept
$market.nex_decivEvent_type == ""barter""","Nex_DecivEvent accept
ShowDefaultVisual
FireAll PopulateOptions","""Excellent! A pleasure doing business with you.""

You cut the comm link after some pleasantries and dispatch a shuttle to the surface of $market to make the trade.",,
nex_decivEvent_decline,DialogOptionSelected,"$option == nex_decivEvent_decline
$market.nex_decivEvent_type == ""barter""","Nex_DecivEvent decline
ShowDefaultVisual
FireAll PopulateOptions","""That's a shame. Well, we'll be here if you change your mind.""

You cut the comm link after exchanging some pleasantries.",,
nex_decivEvent_acceptRefugees,DialogOptionSelected,"$option == nex_decivEvent_accept
$market.nex_decivEvent_type == ""refugees""","Nex_DecivEvent accept
ShowDefaultVisual
FireAll PopulateOptions","""Thank you so much! We'll come abroad right away.""

You cut the comm link and dispatch a shuttle to the surface of $market to pick up your new crewmembers. Hopefully they'll fit in well… and won't bring aboard some horrible new pox hitherto unknown to the Sector.",,
nex_decivEvent_declineRefugees,DialogOptionSelected,"$option == nex_decivEvent_decline
$market.nex_decivEvent_type == ""refugees""","Nex_DecivEvent decline
ShowDefaultVisual
FireAll PopulateOptions","""You... have you no heart? You would truly leave us here?""

You swiftly cut the comm link. You don't need to hear any more of this.
OR
""No! Don't leave us!""

$personName's desperate pleas are cut off abruptly as you disconnect the link.",,
nex_decivEvent_acceptBomb,DialogOptionSelected,"$option == nex_decivEvent_accept
$market.nex_decivEvent_type == ""bomb""","Nex_DecivEvent accept
ShowDefaultVisual
FireAll PopulateOptions","The jury-rigged antimatter bombs serve to obliterate the target most satisfyingly, leaving nothing but a patchwork of craters scarring the landscape.

$personName is most pleased. ""Excellent!"" $heOrShe crows. ""Take your reward, friend. You've earned it.""

A while later, your shuttle returns to your $shipOrFleet with the promised goods. That's one problem taken care of, at least.",,
nex_decivEvent_declineBomb,DialogOptionSelected,"$option == nex_decivEvent_decline
$market.nex_decivEvent_type == ""bomb""","Nex_DecivEvent decline
ShowDefaultVisual
FireAll PopulateOptions","""Bah, fine. Have it your way, Captain High-and-Mighty.""

You cut the comm link. The outcome of whatever feud $personName and $hisOrHer neighbors have down there is none of your concern.",,
nex_decivEvent_acceptColony,DialogOptionSelected,"$option == nex_decivEvent_accept
$market.nex_decivEvent_type == ""foundColony""","Nex_DecivEvent accept
ShowDefaultVisual","""Thank you so much, $playerName. I see many babies named after you in the future.""

With their new supplies and equipment, the people of $market go to work with a feverish energy building their new settlement. They've even got a basic spaceport working, perhaps a leftover from the Collapse that just needed a little TLC to get running again.","nex_decivEvent_foundColonyEnd:Continue",
nex_decivEvent_acceptColonyPost,DialogOptionSelected,"$option == nex_decivEvent_foundColonyEnd","FireBest MarketPostOpen",,,
nex_decivEvent_declineColony,DialogOptionSelected,"$option == nex_decivEvent_decline
$market.nex_decivEvent_type == ""foundColony""","Nex_DecivEvent decline
ShowDefaultVisual
FireAll PopulateOptions","""…I understand. We will have to make do, somehow.""

You cut the comm link after some awkward, meaningless exchange of goodbyes.
OR
""Please, won't you reconsider?""

It takes a while before $personName gives up $hisOrHer attempts to cajole you into changing your mind and you can cut the comm link.",,
nex_decivEvent_declineColonyLater,DialogOptionSelected,"$option == nex_decivEvent_decline
$market.hasRuins
!$market.ruinsExplored
$market.nex_decivEvent_type == ""foundColony""","Nex_DecivEvent decline
ShowDefaultVisual
FireAll PopulateOptions","""Got things to do first? We understand. Let us know when you're done.""",,
"#END Decivilized market events",,,,,,
,,,,,,
# Base commander stuff,,,,,,
nex_convDefaultGreetingFollowers,PickGreeting,"!$contact_printedFirstReturnGreeting
Nex_IsBaseOfficial any
Nex_IsFactionRuler $faction.id","$contact_printedFirstReturnGreeting = true 0
ShowPersonVisual
FireAll PopulateOptions
FireAll ExerelinBaseCommanderOptionsInitialize","After a short wait, your connection request is accepted.

""Hello, chief. What can we do for you?""",,
,,,,,,
aiCores_turnInOptionSelFollowers,DialogOptionSelected,"$option == aiCores_startTurnIn
$faction.id == player","FireAll PopulateCoresTurnInOptions","""Good to hear. We can always use more of these things. Standard bounty applies.""",,
aiCores_turnInOptionRecentlyInvaded,DisableTurnInCoresOptionIfNeeded,"$faction.nex_recentlyInvaded score:20","Nex_PrisonerAction getCooldown
SetTooltip aiCores_startTurnIn ""$TheFaction is not currently accepting AI cores due to your recent invasions of their territory. This will last for $nex_recentInvasionCooldown.""
SetTooltipHighlightColors aiCores_startTurnIn hColor
SetTooltipHighlights aiCores_startTurnIn $nex_recentInvasionCooldown
SetEnabled aiCores_startTurnIn false",,,
,,,,,,
,,,,,,
#ExerelinBaseCommanderInitializeAddDialogs,ExerelinBaseCommanderOptionsInitialize,,"<do something>",,,
,,,,,,
ExerelinBaseCommanderMenuRepeat,DialogOptionSelected,"$option == exerelinBaseCommanderMenuRepeat","FireAll ExerelinBaseCommanderOptionsInitialize","""Anything else?""",,
"#END Base commander stuff",,,,,,
,,,,,,
# Alliance options,,,,,,
ExerelinPlayerFactionDiplomacyPreCheck,ExerelinMarketSpecialInitialize,,"unset $showPlayerFactionDiplomacyOptions",,,
ExerelinPlayerFactionDiplomacyCheckConditions,ExerelinMarketSpecialInitialize,"$faction.id != ""neutral""
$faction.id != ""independent""
$faction.id != ""player""
$faction.id != ""derelict""
$faction.id != $player.factionId
Nex_IsFactionRuler","$showPlayerFactionDiplomacyOptions = true 0
$_factionAllianceName = $faction.allianceName 0
$_playerAllianceName = $player.allianceName 0",,,
#ExerelinPlayerFactionDiplomacyCheckConditions2,ExerelinMarketSpecialInitialize,"!$market.mc:regional_capital
!$market.mc:headquarters
!$market.mc:military_base
!$market.mc:tem_avalon","$showPlayerFactionDiplomacyOptions = false 0",,,
,,,,,,
ExerelinJoinAllianceOption,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$player.isInAlliance
$faction.isInAlliance","SetEnabled exerelinJoinAlliance true
Nex_AddOptionConfirmation exerelinJoinAlliance ""Are you sure you want your faction to join alliance $_factionAllianceName?"" ""Yes"" ""No""",,"exerelinJoinAlliance:Join alliance $_factionAllianceName",
ExerelinJoinAllianceOptionUntrusted,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!Nex_Alliance enoughRep $player.factionId $faction.allianceId","SetTooltip exerelinJoinAlliance ""The $_factionAllianceName do not trust you enough yet.""
SetEnabled exerelinJoinAlliance false",,,
ExerelinJoinAllianceSwitchOption,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
$player.isInAlliance
$faction.isInAlliance
$faction.allianceId != $player.allianceId","SetTooltip exerelinJoinAlliance ""To join alliance $_factionAllianceName your faction will leave $_playerAllianceName.""
SetEnabled exerelinJoinAlliance true
Nex_AddOptionConfirmation exerelinJoinAlliance ""Are you sure you want your faction to leave $_playerAllianceName and join $_factionAllianceName?"" ""Yes"" ""No""",,"exerelinJoinAlliance:Join (switch to) alliance $_factionAllianceName",
ExerelinJoinAllianceSwitchOptionUntrusted,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
$player.isInAlliance
$faction.isInAlliance
$faction.allianceId != $player.allianceId
!Nex_Alliance enoughRep $player.factionId $faction.allianceId","SetTooltip exerelinJoinAlliance ""The $_factionAllianceName do not trust you enough yet.\nTo join alliance $_factionAllianceName your faction would leave $_playerAllianceName.""
SetEnabled exerelinJoinAlliance false",,,
,,,,,,
ExerelinInviteToAllianceOption,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
$player.isInAlliance
$faction.allianceId != $player.allianceId","SetEnabled exerelinInviteToAlliance true
Nex_AddOptionConfirmation exerelinInviteToAlliance ""Are you sure you want to invite $theFaction to join alliance $_playerAllianceName?"" ""Yes"" ""No""",,"exerelinInviteToAlliance:Invite $theFaction to join alliance $_playerAllianceName",
ExerelinInviteToAllianceOptionUntrusted,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$faction.isInAlliance
!Nex_Alliance enoughRep $faction.id $player.allianceId","SetTooltip exerelinInviteToAlliance ""$TheFaction do not trust the $_playerAllianceName enough yet.""
SetEnabled exerelinInviteToAlliance false",,,
ExerelinInviteToAllianceOptionAlreadyInAlliance,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
$faction.isInAlliance
$faction.allianceId != $player.allianceId","SetTooltip exerelinInviteToAlliance ""$TheFaction is already in an alliance.""
SetEnabled exerelinInviteToAlliance false",,,
ExerelinInviteToAllianceOptionIncompatible,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$faction.isInAlliance
!Nex_Alliance isAlignmentCompatible $faction.id $player.allianceId","SetTooltip exerelinInviteToAlliance ""$TheFaction cannot endorse the goals of the $_playerAllianceName.""
SetEnabled exerelinInviteToAlliance false",,,
,,,,,,
ExerelinFormAllianceOption,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$player.isInAlliance
!$faction.isInAlliance","SetEnabled exerelinFormAlliance true
Nex_AddOptionConfirmation exerelinFormAlliance ""Are you sure you want to form a new alliance with $theFaction?"" ""Yes"" ""No""",,"exerelinFormAlliance:Invite $theFaction to form a new alliance",
ExerelinFormAllianceOptionUntrusted,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$player.isInAlliance
!$faction.isInAlliance
!RepIsAtWorst $faction.id FRIENDLY","SetTooltip exerelinFormAlliance ""$TheFaction do not trust you enough yet.""
SetEnabled exerelinFormAlliance false",,,
ExerelinFormAllianceOptionAlreadyInAlliance,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$player.isInAlliance
$faction.isInAlliance","SetTooltip exerelinFormAlliance ""$TheFaction is already in an alliance.""
SetEnabled exerelinFormAlliance false",,,
ExerelinLeaveAllianceOption,ExerelinMarketSpecial,"$hasMarket
Nex_IsFactionRuler
$player.isInAlliance
$faction.isInAlliance
$faction.allianceId == $player.allianceId","$_factionAllianceName = $faction.allianceName 0
$_playerAllianceName = $player.allianceName 0
Nex_AddOptionConfirmation exerelinLeaveAlliance ""Are you sure you want your faction to leave alliance $_playerAllianceName?"" ""Yes"" ""No""",,"exerelinLeaveAlliance:Leave alliance $_factionAllianceName",
,,,,,,
ExerelinJoinAlliance,DialogOptionSelected,"$option == exerelinJoinAlliance","Nex_Alliance join
FireAll ExerelinMarketSpecialInitialize",,,
ExerelinInviteToAlliance,DialogOptionSelected,"$option == exerelinInviteToAlliance","Nex_Alliance invite
FireAll ExerelinMarketSpecialInitialize",,,
ExerelinFormAlliance,DialogOptionSelected,"$option == exerelinFormAlliance","Nex_Alliance form
FireAll ExerelinMarketSpecialInitialize",,,
ExerelinLeaveAlliance,DialogOptionSelected,"$option == exerelinLeaveAlliance","Nex_Alliance leave
FireAll ExerelinMarketSpecialInitialize",,,
"#END Alliance options",,,,,,
,,,,,,
# remote comm link,,,,,,
#nex_remoteCommOption,ExerelinMarketSpecial,,"SetShortcut nex_remoteComm R",,"8:nex_remoteComm:Open remote comm directory",
nex_remoteComm,DialogOptionSelected,"$option == nex_remoteComm","FireAll Nex_RemoteComm",,,
nex_remoteCommByTrigger,Nex_RemoteComm,,"Nex_RemoteCommDirectory list","Which faction do you want to look up?",,
nex_remoteCommConnect,DialogOptionSelected,"Nex_OptionStartsWith ""nex_remoteCommDirectory_open_""","Nex_RemoteCommDirectory connect",,,
"#END remote comm link",,,,,,
,,,,,,
# Market transfer options,,,,,,
nex_marketTransferInit,PopulateOptions,"Nex_IsBaseOfficial admin
Nex_IsFactionRuler $faction.id",,,"nex_transferMarketMainWithDialog:Transfer this market to another faction",
nex_marketTransferInitNoSpaceport,PopulateOptions,"Nex_IsBaseOfficial admin
Nex_IsFactionRuler $faction.id
!Nex_TransferMarket hasSpaceport","SetTooltip nex_transferMarketMainWithDialog ""Requires a functional spaceport for any potential recipient to consider accepting.""
SetEnabled nex_transferMarketMainWithDialog false",,,
,,,,,,
nex_marketTransfer,DialogOptionSelected,"$option == nex_transferMarketMain","FireAll Nex_MarketTransferMain",,,
nex_marketTransferWithDialog,DialogOptionSelected,"$option == nex_transferMarketMainWithDialog","Nex_TransferMarket printRepChange
FireAll Nex_MarketTransferMain","""You truly wish to give away $market? Very well, to whom?""",,
nex_marketTransferByTrigger,Nex_MarketTransferMain,,"Nex_TransferMarket listGroups",,,
,,,,,,
nex_marketTransferList1,DialogOptionSelected,"$option == nex_transferMarketList1","Nex_TransferMarket listFactions 1",,,
nex_marketTransferList2,DialogOptionSelected,"$option == nex_transferMarketList2","Nex_TransferMarket listFactions 2",,,
nex_marketTransferList3,DialogOptionSelected,"$option == nex_transferMarketList3","Nex_TransferMarket listFactions 3",,,
nex_marketTransferList4,DialogOptionSelected,"$option == nex_transferMarketList4","Nex_TransferMarket listFactions 4",,,
nex_marketTransferList5,DialogOptionSelected,"$option == nex_transferMarketList5","Nex_TransferMarket listFactions 5",,,
nex_marketTransferList6,DialogOptionSelected,"$option == nex_transferMarketList6","Nex_TransferMarket listFactions 6",,,
nex_marketTransferList7,DialogOptionSelected,"$option == nex_transferMarketList7","Nex_TransferMarket listFactions 7",,,
nex_marketTransferList8,DialogOptionSelected,"$option == nex_transferMarketList8","Nex_TransferMarket listFactions 8",,,
,,,,,,
nex_marketTransferExecute,DialogOptionSelected,"Nex_OptionStartsWith ""nex_transferMarket_""","Nex_TransferMarket transfer
FireAll Nex_MarketPostTransfer",,,
,,,,,,
nex_marketTransferPostDialog,Nex_MarketPostTransfer,,"AddText ""\""As you command. $market is now in possession of $entity._newFaction.""
AddText ""\""Goodbye, chief.\""""",,"nex_transferMarketEnd:Cut the comm link",
nex_marketTransferPostDialogLeave,DialogOptionSelected,"$option == nex_transferMarketEnd","UpdateMemory
ShowDefaultVisual
EndConversation",,,
"#END Market transfer options",,,,,,
,,,,,,
# Rebellion options,,,,,,
#nex_instigateRebellion,Nex_HostileAction,,,,"6:nex_instigateRebellion:Instigate a rebellion",
#nex_instigateRebellionNoSneak,Nex_HostileAction,"$tradeMode == NONE","SetTooltip nex_instigateRebellion ""You currently do not have access to $market to insert the needed assets.""
SetEnabled nex_instigateRebellion false",,,
#nex_instigateRebellionAlreadyOngoing,Nex_HostileAction,"Nex_RebellionActions isOngoing","SetTooltip nex_instigateRebellion ""A rebellion is already in progress on $market.""
SetEnabled nex_instigateRebellion false",,,
#nex_instigateRebellionInit,DialogOptionSelected,"$option == nex_instigateRebellion","Nex_InstigateRebellion init
SetShortcut nex_instigateRebellionProceed RETURN
SetShortcut nex_hostileActionMenu ESCAPE","You can attempt to start a rebellion on $market. This will always succeed but will cost a significant amount of resources, and $theFaction will turn hostile if your actions are discovered.","nex_instigateRebellionProceed:Proceed
nex_hostileActionMenu:Cancel",
#nex_instigateRebellionProceed,DialogOptionSelected,"$option == nex_instigateRebellionProceed","Nex_InstigateRebellion proceed
FireAll Nex_HostileAction",,,
,,,,,,
nex_supplyInsurgencyGreeting,PickGreeting,"$nex_rebel_representative","ShowPersonVisual
FireAll Nex_InsurgencyCheckRep","After a short wait, your connection request is accepted.

""Yes?""","nex_supplyInsurgency:""I can provide your rebellion with some useful materiel.""
0:cutCommLink:Cut the comm link",
nex_supplyInsurgencyGreeting_TooLowRep,Nex_InsurgencyCheckRep,"!Nex_RebellionActions enoughRepToSupply","SetTooltip nex_supplyInsurgency ""$TheFaction simply do not trust you to supply them.""
SetEnabled nex_supplyInsurgency false",,,
nex_supplyInsurgencyGreeting_NeedTOff,PickGreeting,"$nex_rebel_representative
$player.transponderOn
$hostileToMarket score:100","ShowPersonVisual","After a short wait, your connection request is accepted.

""What do you want? I have no business with you.""

On the balance of things, perhaps waltzing into port with your transponder on and broadcasting your identity, in order to get in touch with an underworld figure, wasn't the best idea you've ever had.","0:cutCommLink:Cut the comm link",
nex_supplyInsurgencyGreeting_Player,PickGreeting,"$nex_rebel_representative
$market.nex_isTruePlayerOwned","ShowPersonVisual","Your connection request goes unanswered, even after waiting for several minutes. Which makes sense, if you think about it for a while.","0:cutCommLink:Cut the comm link",
nex_supplyInsurgency,DialogOptionSelected,"$option == nex_supplyInsurgency","AddText ""\""Well, well. For our glorious cause, we will gladly take any supplies, hand weapons or marines you possess, paying market rates. $TheFaction will remember you, when the revolution is triumphant.\""""
Nex_RebellionActions main
Nex_RebellionActions printPriceMult",,,
nex_supplyInsurgencyProceed,DialogOptionSelected,"Nex_OptionStartsWith ""nex_supplyInsurgency_deliver_""","Nex_RebellionActions deliver",,,
nex_supplyInsurgencyBack,DialogOptionSelected,"$option == nex_supplyInsurgencyBack","ShowDefaultVisual
EndConversation",,,
,,,,,,
nex_supplyCounterInsurgencyOption,PopulateOptions,"Nex_IsBaseOfficial admin
Nex_RebellionActions isOngoing",,,"nex_supplyCounterInsurgency:""I can help with your rebellion problem.""",
nex_supplyCounterInsurgencyOptionTooLowRep,PopulateOptions,"Nex_IsBaseOfficial admin
Nex_RebellionActions isOngoing
!Nex_RebellionActions enoughRepToSupply","SetTooltip nex_supplyCounterInsurgency ""$TheFaction simply do not trust you to supply them.""
SetEnabled nex_supplyCounterInsurgency false",,,
nex_supplyCounterInsurgency,DialogOptionSelected,"$option == nex_supplyCounterInsurgency","AddText ""\""Indeed? We could make good use of any supplies, hand weapons or marines you possess, purchased at market rates. And the gratitude of $theFaction, once the dust settles.\""""
Nex_RebellionActions main
Nex_RebellionActions printPriceMult",,,
nex_supplyCounterInsurgencyPlayer,DialogOptionSelected,"$option == nex_supplyCounterInsurgency
$market.nex_isTruePlayerOwned","AddText ""\""That would be good. Some supplies, heavy armaments and marines would make putting down the rebellion much easier.\""""
AddTextSmall ""As this is your own market, you will not be paid for the materiel you supply.""
Nex_RebellionActions main",,,
nex_supplyCounterInsurgencyBack,DialogOptionSelected,"$option == nex_supplyCounterInsurgencyBack","FireAll PopulateOptions","""Anything else?""",,
"#END Rebellion options",,,,,,
,,,,,,
# Blueprint swap options,,,,,,
nex_blueprintSwapOption,PopulateOptions,"Nex_IsBaseOfficial admin
Nex_BlueprintSwap hasOption",,,"nex_blueprintSwapMenu:Exchange blueprints",
nex_blueprintSwapMenuSel,DialogOptionSelected,"$option == nex_blueprintSwapMenu","FireAll Nex_BlueprintSwapMenu","""Ah, good. Looking to buy or sell?""",,
nex_blueprintSwapMenuReturnSel,DialogOptionSelected,"$option == nex_blueprintSwapMenuReturn","FireAll Nex_BlueprintSwapMenu",,,
nex_blueprintSwapMenu,Nex_BlueprintSwapMenu,,"AddTextSmall ""You have $nex_BPSwap_pointsStr points.""
SetTextHighlights $nex_BPSwap_pointsStr
SetShortcut nex_blueprintSwapExit ""ESCAPE""",,"nex_blueprintSwapBuy:Purchase blueprints
nex_blueprintSwapSell:Trade in blueprints
nex_blueprintSwapExit:Go back",
nex_blueprintSwapSellOption,DialogOptionSelected,"$option == nex_blueprintSwapSell","Nex_BlueprintSwap sell",,,
nex_blueprintSwap_SellResponse,Nex_BlueprintsSold,,"FireAll Nex_BlueprintSwapMenu","""Thank you for your business.""",,
nex_blueprintSwap_ListBuyable,DialogOptionSelected,"$option == nex_blueprintSwapBuy","Nex_BlueprintSwap getForSale",,,
nex_blueprintSwapBuyOption,DialogOptionSelected,"Nex_OptionStartsWith ""nex_blueprintSwap_pick_""","Nex_BlueprintSwap buy
AddText ""\""Will this be suitable?\""""
SetShortcut nex_blueprintSwapBuy ""ESCAPE""",,"nex_blueprintSwapConfirmPurchase:Buy this blueprint
nex_blueprintSwapBuy:Go back",
nex_blueprintSwapBuyConfirm,DialogOptionSelected,"$option == nex_blueprintSwapConfirmPurchase","Nex_BlueprintSwap confirmPurchase
Nex_BlueprintSwap getForSale
AddTextSmall ""You have $nex_BPSwap_pointsStr points.""
SetTextHighlights $nex_BPSwap_pointsStr","""Thank you for your business.""",,
nex_blueprintSwapExit,DialogOptionSelected,"$option == nex_blueprintSwapExit","FireAll PopulateOptions",,,
"#END Blueprint swap options",,,,,,
,,,,,,
# Stabilization package,,,,,,
nex_stabilizePackageOption,PopulateOptions,"$entity.hasMarket
Nex_IsBaseOfficial any
$faction.id != player",,,"11:nex_stabilizePackage_main:""I can help with your unrest problem.""",
nex_stabilizePackageOptionDisabled,PopulateOptions,"$entity.hasMarket
$faction.id != player
!Nex_StabilizePackage enabled","SetTooltip nex_stabilizePackage_main ""$market does not require such assistance at present.""
SetEnabled nex_stabilizePackage_main false",,,
nex_stabilizePackageOptionCooldown,PopulateOptions,"$entity.hasMarket
$faction.id != player
$market.nex_stabilizePackage_cooldown","SetTooltip nex_stabilizePackage_main ""$market has already been recently stabilized. Delivery of further packages will not be worthwhile for $nex_stabilizePackage_textCooldown.""
SetTooltipHighlightColors nex_stabilizePackage_main hColor
SetTooltipHighlights nex_stabilizePackage_main $nex_stabilizePackage_textCooldown
SetEnabled nex_stabilizePackage_main false",,,
nex_stabilizePackageOptionCooldownInvasion,PopulateOptions,"$entity.hasMarket
$faction.id != player
$market.nex_captureStabilizeTimeout","SetTooltip nex_stabilizePackage_main ""$market was recently conquered, and the situation remains too chaotic for stabilization to be feasible. This will last for $nex_stabilizePackage_textInvadeCooldown.""
SetTooltipHighlightColors nex_stabilizePackage_main hColor
SetTooltipHighlights nex_stabilizePackage_main $nex_stabilizePackage_textInvadeCooldown
SetEnabled nex_stabilizePackage_main false",,,
nex_stabilizePackageSelRelief,DialogOptionSelected,"$option == nex_stabilizePackage_main
$market.nex_stabilizePackage_type == ""relief""","Nex_StabilizePackage init
SetShortcut nex_stabilizePackage_cancel ""ESCAPE""","""Truly? We would be most grateful for any assistance you can render. Supplies and food — and of course, credits — would help get the people of $market through their current difficulties.""
OR
""You are most generous, $playerName. A proper contribution of aid materials and credits would greatly aid or relief efforts.""","nex_stabilizePackage_proceed:Deliver the relief package
nex_stabilizePackage_cancel:Reconsider",
nex_stabilizePackageSelRepression,DialogOptionSelected,"$option == nex_stabilizePackage_main
$market.nex_stabilizePackage_type == ""repression""","Nex_StabilizePackage init
SetShortcut nex_stabilizePackage_cancel ""ESCAPE""","""We would welcome your assistance in this matter. An adequate contribution of supplies, munitions and funding would greatly assist our efforts in maintaining order.""
OR
""Indeed? Well, should you have the proper supplies and credits to support our pacification efforts, my superiors would make their gratitude known.""","nex_stabilizePackage_proceed:Deliver the pacification package
nex_stabilizePackage_cancel:Reconsider",
nex_stabilizePackageSelReliefConfirm,DialogOptionSelected,"$option == nex_stabilizePackage_proceed
$market.nex_stabilizePackage_type == ""relief""","Nex_StabilizePackage proceed
FireAll PopulateOptions","""Thank you for your charity. The people of $market are in your debt.""",,
nex_stabilizePackageSelRepressionConfirm,DialogOptionSelected,"$option == nex_stabilizePackage_proceed
$market.nex_stabilizePackage_type == ""repression""","Nex_StabilizePackage proceed
FireAll PopulateOptions","""Very good. $TheFaction is grateful for your assistance in this matter.""",,
nex_stabilizePackageNeverMind,DialogOptionSelected,"$option == nex_stabilizePackage_cancel","FireAll PopulateOptions","""I see. That is unfortunate.

Is there anything else you need?""
OR
""Perhaps generosity has its limits.

Anything else?""",,
"#END Stabilization package",,,,,,
,,,,,,
# Grant autonomy,,,,,,
nex_grantAutonomyOption,PopulateOptions,"$entity.hasMarket
Nex_IsBaseOfficial admin
$faction.id == player
!Nex_GrantAutonomy isAutonomous
!$market.nex_autonomySuspended",,,"nex_grantAutonomy:Grant autonomy",
nex_revokeAutonomyOption,PopulateOptions,"$entity.hasMarket
Nex_IsBaseOfficial admin
$faction.id == player
Nex_GrantAutonomy isAutonomous
!$market.nex_autonomySuspended",,,"nex_revokeAutonomy:Revoke autonomy",
nex_grantAutonomy,DialogOptionSelected,"$option == nex_grantAutonomy","Nex_GrantAutonomy init
AddTextSmall ""An autonomous market will only generate 20% of its usual profit or loss, and will not count towards the player's colony or admin limits. Heavy industry here will not contribute to the player's personal production capacity, although the faction will still benefit from its ship quality bonuses. Tech-mining will not produce items.""
SetTextHighlightColors hColor
SetTextHighlights 20%
AddTextSmall ""Revoking autonomy later will cause $nex_revokeAutonomyUnrest points of recent unrest.""
SetTextHighlightColors bad
SetTextHighlights $nex_revokeAutonomyUnrest
Nex_AddOptionConfirmation nex_grantAutonomy_confirm ""Confirm?"" ""Yes"" ""No""","""So you wish to grant autonomy to $market?""","nex_grantAutonomy_confirm:Proceed
nex_grantAutonomy_cancel:Cancel",
nex_revokeAutonomy,DialogOptionSelected,"$option == nex_revokeAutonomy","Nex_GrantAutonomy init
AddTextSmall ""An autonomous market will only generate 20% of its usual profit or loss, and will not count towards the player's colony or admin limits. Heavy industry here will not contribute to the player's personal production capacity, although the faction will still benefit from its ship quality bonuses. Tech-mining will not produce items.""
SetTextHighlightColors hColor
SetTextHighlights 20%
AddTextSmall ""Revoking autonomy will cause $nex_revokeAutonomyUnrest points of recent unrest.""
SetTextHighlightColors bad
SetTextHighlights $nex_revokeAutonomyUnrest
Nex_AddOptionConfirmation nex_revoketAutonomy_confirm ""Confirm?"" ""Yes"" ""No""","""This is… quite concerning. Do you wish to reassume direct administration of $market?""","nex_revokeAutonomy_confirm:Proceed
nex_grantAutonomy_cancel:Cancel",
nex_grantAutonomyConfirm,DialogOptionSelected,"$option == nex_grantAutonomy_confirm","Nex_GrantAutonomy grant
FireAll PopulateOptions","""$market is now under autonomous administration. Thank you, $playerName.""",,
nex_revokeAutonomyConfirm,DialogOptionSelected,"$option == nex_revokeAutonomy_confirm","Nex_GrantAutonomy revoke
FireAll PopulateOptions","""As you say. $market is now under your direct authority once more, $playerName.""",,
nex_grantAutonomyCancel,DialogOptionSelected,"$option == nex_grantAutonomy_cancel","FireAll PopulateOptions","""Anything else?""",,
,,,,,,
nex_suspendAutonomyOption,PopulateOptions,"$entity.hasMarket
Nex_IsBaseOfficial admin
$faction.id == player
Nex_GrantAutonomy isAutonomous","SetTooltip nex_suspendAutonomy ""Temporarily removes the autonomous state from the colony, allowing you to build or remove industries and add/remove special objects. Colony reverts to being autonomous after undocking. There is no stability penalty.""",,"nex_suspendAutonomy:Take temporary control of colony",
nex_suspendAutonomy,DialogOptionSelected,"$option == nex_suspendAutonomy","Nex_GrantAutonomy suspend
FireAll PopulateOptions","Autonomy suspended. Perform the desired operations $onOrAt $market, then undock once complete.",,
,,,,,,
nex_suspendAutonomyRemoteOption,ExerelinMarketSpecial,,,,"8:nex_suspendAutonomyRemote:Take temporary control of autonomous colonies",
nex_suspendAutonomyRemoteMenu,DialogOptionSelected,"$option == nex_suspendAutonomyRemote","FireAll Nex_RemoteSuspendAutonomy",,,
nex_suspendAutonomyRemoteMenuByTrigger,Nex_RemoteSuspendAutonomy,,"Nex_RemoteSuspendAutonomy menu","Temporarily removes the autonomous state from the selected colony, allowing you to build or remove industries and add/remove special objects. Colony reverts to being autonomous after undocking. There is no stability penalty.",,
nex_suspendAutonomyRemote,DialogOptionSelected,"Nex_OptionStartsWith nex_suspendAutonomyRemote_","Nex_RemoteSuspendAutonomy select",,,
"#END Grant autonomy",,,,,,
,,,,,,
# Reinforce defenses,,,,,,
#nex_reinforceDefensesOption,PopulateOptions,"$entity.hasMarket
Nex_IsBaseOfficial military
Nex_ReinforceDefenses enabled",,,"12:nex_reinforceDefenses_main:Reinforce ground defenses",
#nex_reinforceDefensesSel,DialogOptionSelected,"$option == nex_reinforceDefenses_main","Nex_ReinforceDefenses init
SetShortcut nex_reinforceDefenses_cancel ""ESCAPE""","""If you are anticipating an attack, it may be worth readying and reinforcing our garrison.""","nex_reinforceDefenses_proceed:Deploy reinforcements
nex_reinforceDefenses_cancel:Cancel",
#nex_reinforceDefensesSelConfirm,DialogOptionSelected,"$option == nex_reinforceDefenses_proceed","Nex_ReinforceDefenses proceed
FireAll PopulateOptions","$PersonRank $personLastName confirms the deployment of troops and materiel. The conversation moves on to other matters.",,
#nex_reinforceDefensesNeverMind,DialogOptionSelected,"$option == nex_reinforceDefenses_cancel","FireAll PopulateOptions",,,
"#END Reinforce defenses",,,,,,
,,,,,,
# Donate admin,,,,,,
nex_donateAdminOption,PopulateOptions,"$entity.hasMarket
Nex_IsBaseOfficial military
Nex_DonateAdmin isEnabled",,,"13:nex_donateAdmin:Donate admin",
nex_donateAdmin,DialogOptionSelected,"$option == nex_donateAdmin","Nex_DonateAdmin list
AddTextSmall ""This will install the selected admin at this autonomous colony. The admin will be permanently removed from your party.""
SetTextHighlights ""permanently removed""","""You wish to appoint your own administrator for $market, then?""",,
nex_donateAdminConfirm,DialogOptionSelected,"Nex_OptionStartsWith nex_donateAdmin_select_","Nex_DonateAdmin transfer","""Acknowledged. Goodbye, $playerName.""","cutCommLink:Cut the comm link",
nex_donateAdminNeverMind,DialogOptionSelected,"$option == nex_donateAdmin_cancel","FireAll PopulateOptions",,,
"#END Donate admin",,,,,,
,,,,,,
# Buy colony governorship,,,,,,
nex_buyColonyOption,PopulateOptions,"$entity.hasMarket
Nex_IsBaseOfficial admin
$faction.id == $player.factionId
$faction.id != player
!Nex_BuyColony isPlayerOwned","FireBest Nex_BuyColonyDisableCheck",,"13:nex_buyColony:Purchase governorship of $market",
nex_buyColonyOptionDisable,Nex_BuyColonyDisableCheck,"!Nex_BuyColony canBuy","SetEnabled nex_buyColony false 
SetTooltip nex_buyColony ""Requires:\n- Friendly reputation for size 3\n- Cooperative reputation for size 4\nLarger markets may not be purchased.""
SetTooltipHighlightColors nex_buyColony good hColor good hColor
SetTooltipHighlights nex_buyColony Friendly 3 Cooperative 4",,,
nex_buyColonyOptionDisable2,Nex_BuyColonyDisableCheck,"$market.nex_unbuyable score:10","SetEnabled nex_buyColony false 
SetTooltip nex_buyColony ""$market cannot be purchased.""",,,
nex_buyColonyOptionDisableMacau,Nex_BuyColonyDisableCheck,"$faction.id == tiandong
$market.id == tiandong_macau_market score:15","SetEnabled nex_buyColony false 
SetTooltip nex_buyColony ""$market is under THI's special administration and cannot be purchased.""",,,
nex_cedeColonyOption,PopulateOptions,"$entity.hasMarket
Nex_IsBaseOfficial admin
$faction.id == $player.factionId
$faction.id != player
Nex_BuyColony isPlayerOwned",,,"nex_cedeColony:Cede governorship of $market",
nex_buyColony,DialogOptionSelected,"$option == nex_buyColony","FireBest Nex_BuyColonyPromptDialog
Nex_BuyColony init
AddTextSmall ""$market will be placed under your administration. You will collect its revenue and pay its costs, and can build industries and structures on it. Storage is free. Your personal ship construction will benefit from $faction industry.""
AddTextSmall ""You can cede the colony later if you so choose, but will not receive a refund. Your governorship will also be lost if $market is captured by a third party, although should it be retaken you will once again be the administrator. Resigning or losing your commission, on the other hand, results in a permanent revocation.""
Nex_BuyColony printCostAndProcessOptions
Nex_AddOptionConfirmation nex_buyColony_confirm ""Confirm?"" ""Yes"" ""No""",,"nex_buyColony_confirm:Proceed
nex_buyColony_cancel:Cancel",
nex_cedeColony,DialogOptionSelected,"$option == nex_cedeColony","FireBest Nex_CedeColonyPromptDialog
Nex_BuyColony init
AddTextSmall ""You will no longer receive revenue from $market or incur costs, or have any authority over the colony. Storage fees will be collected again.""
Nex_AddOptionConfirmation nex_cedeColony_confirm ""Confirm?"" ""Yes"" ""No""",,"nex_cedeColony_confirm:Proceed
nex_buyColony_cancel:Cancel",
nex_buyColonyPromptDialog_generic,Nex_BuyColonyPromptDialog,,,"""Hmm, perhaps. You have an established reputation, and if you are willing to invest in the development of $market, we could come to a mutually satisfactory arrangement.""",,
nex_cedeColonyPromptDialog_generic,Nex_CedeColonyPromptDialog,,,"""You do not wish to govern $market any longer? That is entirely acceptable to us, but be warned that you will not receive any recompense for this.""",,
nex_buyColonyConfirm,DialogOptionSelected,"$option == nex_buyColony_confirm","FireBest Nex_BuyColonyConfirmDialog
Nex_BuyColony buy
FireAll PopulateOptions","""$market is now under your administration. Welcome to your new duties, $playerName.""",,
nex_cedeColonyConfirm,DialogOptionSelected,"$option == nex_cedeColony_confirm","FireBest Nex_CedeColonyConfirmDialog
Nex_BuyColony cede
FireAll PopulateOptions","""Confirmed. Control of $market has now reverted to $faction administration.""",,
nex_buyColonyCancel,DialogOptionSelected,"$option == nex_buyColony_cancel","FireAll PopulateOptions","""Anything else?""",,
"#END Buy colony governorship",,,,,,
,,,,,,
# Other base commander stuff,,,,,,
,,,,,,
# Must be after all other rules with that trigger,,,,,,
nex_baseCommanderOptionsInitializationFinished,ExerelinBaseCommanderOptionsInitialize,,"FireAll PopulateOptions",,,
nex_marketSpecialInitializationFinished,ExerelinMarketSpecialInitialize,,"FireAll ExerelinMarketSpecial",,,
"#END Must be after all other rules with that trigger",,,,,,
"#END Other base commander stuff",,,,,,
,,,,,,
# Faction vengeance dialog,,,,,,
greetingVengeanceMadStronger,OpenCommLink,"$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$playerName, $theFactionLong $factionIsOrAre not going to suffer you any longer.""
OR
""Your time has come, $playerName.""
OR
""$TheFactionLong sends their regards, $playerName.""","cutCommLink:Cut the comm link",
greetingVengeanceMadWeakerDefiant,OpenCommLink,"$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$playerName, $theFactionLong $factionIsOrAre not going to suffer you any longer.""
OR
""Your time has come, $playerName.""
OR
""$TheFactionLong sends their regards, $playerName.""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadStronger,OpenCommLink,"$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$TheFactionLong signed your death warrant, $playerName. Prepare to die.""
OR
""This is the end for you, $playerName. $TheFactionLong wills it.""
OR
""We've come here to kill you, $playerName. Die in the name of $theFactionLong!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadWeakerDefiant,OpenCommLink,"$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$TheFactionLong signed your death warrant, $playerName. Prepare to die.""
OR
""This is the end for you, $playerName. $TheFactionLong wills it.""
OR
""We've come here to kill you, $playerName. Die in the name of $theFactionLong!""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadStronger,OpenCommLink,"$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""There is no escape for you now, $playerName. $TheFactionLong will hunt you to the ends of the sector!""
OR
""It's over! You die here, $playerName. $TheFactionLong will never give up!""
OR
""$playerName, on behalf of $theFactionLong, I hereby sentence you to death. Your execution shall be summary!""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadWeakerDefiant,OpenCommLink,"$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""There is no escape for you now, $playerName. $TheFactionLong will hunt you to the ends of the sector!""
OR
""It's over! You die here, $playerName. $TheFactionLong will never give up!""
OR
""$playerName, on behalf of $theFactionLong, I hereby sentence you to death. Your execution shall be summary!""","cutCommLink:Cut the comm link",
greetingVengeanceMadStrongerPirates,OpenCommLink,"$faction.id == pirates
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You've made some powerful enemies, $playerName. This is goodbye.""
OR
""This is the end for you!""
OR
""When I'm through with you, $playerName, you'll wish you had never been born!""","cutCommLink:Cut the comm link",
greetingVengeanceMadWeakerDefiantPirates,OpenCommLink,"$faction.id == pirates
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You've made some powerful enemies, $playerName. This is goodbye.""
OR
""This is the end for you!""
OR
""When I'm through with you, $playerName, you'll wish you had never been born!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadStrongerPirates,OpenCommLink,"$faction.id == pirates
$entity.relativeStrength >= 0
$entity.escalation >= 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""The Boss sends his regards, you son of a bitch!""
OR
""You've crossed us for the last time. Time to die!""
OR
""We'll see you in Hell, $playerName!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadWeakerDefiantPirates,OpenCommLink,"$faction.id == pirates
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation >= 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""The Boss sends his regards, you son of a bitch!""
OR
""You've crossed us for the last time. Time to die!""
OR
""We'll see you in Hell, $playerName!""","cutCommLink:Cut the comm link",
greetingVengeanceMadStrongerCabal,OpenCommLink,"$faction.id == cabal
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Heresy of this magnitude is answerable with death. Farewell!""
OR
""Hahahahaha! Die!""","cutCommLink:Cut the comm link",
greetingVengeanceMadWeakerDefiantCabal,OpenCommLink,"$faction.id == cabal
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Heresy of this magnitude is answerable with death. Farewell!""
OR
""Hahahahaha! Die!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadStrongerCabal,OpenCommLink,"$faction.id == cabal
$entity.relativeStrength >= 0
$entity.escalation >= 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$TheFactionLong is here to take your head, $playerName. There is no escape!""
OR
""I'll kill you! I'll kill you to DEATH!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadWeakerDefiantCabal,OpenCommLink,"$faction.id == cabal
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation >= 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$TheFactionLong is here to take your head, $playerName. There is no escape!""
OR
""I'll kill you! I'll kill you to DEATH!""","cutCommLink:Cut the comm link",
greetingVengeanceMadStrongerLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$TheFactionLong has not forgotten your sins, $playerName. Prepare to be destroyed!""
OR
""Prepare for death, blasphemer!""","cutCommLink:Cut the comm link",
greetingVengeanceMadWeakerDefiantLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$TheFactionLong has not forgotten your sins, $playerName. Prepare to be destroyed!""
OR
""Prepare for death, blasphemer!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadStrongerLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You are past redemption! The inquisition has come for you, heretic.""
OR
""Be banished to the pit you came from, spawn of Mammon!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadWeakerDefiantLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You are past redemption! The inquisition has come for you, heretic.""
OR
""Be banished to the pit you came from, spawn of Mammon!""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadStrongerLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Burn in Hell, demon! The followers of Ludd shall strike you down!""
OR
""Your Faustian schemes end here.""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadWeakerDefiantLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Burn in Hell, demon! The followers of Ludd shall strike you down!""
OR
""Your Faustian schemes end here.""","cutCommLink:Cut the comm link",
greetingVengeanceMadStrongerLuddicPath,OpenCommLink,"$faction.id == luddic_path
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$TheFactionLong has not forgotten your sins, $playerName. Prepare to be destroyed!""
OR
""Prepare for death, blasphemer!""","cutCommLink:Cut the comm link",
greetingVengeanceMadWeakerDefiantLuddicPath,OpenCommLink,"$faction.id == luddic_path
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""$TheFactionLong has not forgotten your sins, $playerName. Prepare to be destroyed!""
OR
""Prepare for death, blasphemer!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadStrongerLuddicPath,OpenCommLink,"$faction.id == luddic_path
$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You are past redemption! Begone, in the name of the Path!.""
OR
""Be banished to the pit you came from, spawn of Mammon!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadWeakerDefiantLuddicPath,OpenCommLink,"$faction.id == luddic_path
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You are past redemption! Begone, in the name of the Path!.""
OR
""Be banished to the pit you came from, spawn of Mammon!""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadStrongerLuddicPath,OpenCommLink,"$faction.id == luddic_path
$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Burn in Hell, demon! The followers of Ludd shall strike you down!""
OR
""In the name of the one true Path, we shall annihilate you! Thy name shall be purged from the very stars!""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadWeakerDefiantLuddicPath,OpenCommLink,"$faction.id == luddic_path
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Burn in Hell, demon! The followers of Ludd shall strike you down!""
OR
""In the name of the one true Path, we shall annihilate you! Thy name shall be purged from the very stars!""","cutCommLink:Cut the comm link",
greetingVengeanceMadStrongerAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You've made some powerful enemies, $playerName. This is goodbye.""","cutCommLink:Cut the comm link",
greetingVengeanceMadWeakerDefiantAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You've made some powerful enemies, $playerName. This is goodbye.""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadStrongerAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""We're going to make an example of you, $playerName; don't fuck with $theFactionLong!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadWeakerDefiantAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""We're going to make an example of you, $playerName; don't fuck with $theFactionLong!""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadStrongerAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""The Associates have deemed you unworthy of life. Your pain shall be legendary!""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadWeakerDefiantAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""The Associates have deemed you unworthy of life. Your pain shall be legendary!""","cutCommLink:Cut the comm link",
greetingVengeanceMadStrongerTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Your life ends now, blasphemer.""","cutCommLink:Cut the comm link",
greetingVengeanceMadWeakerDefiantTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Your life ends now, blasphemer.""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadStrongerTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Heretic, you have been chosen for destruction. Die in the name of $theFactionLong!""
OR
""Be cleansed from the holy stars, foul creature!""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadWeakerDefiantTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""Heretic, you have been chosen for destruction. Die in the name of $theFactionLong!""
OR
""Be cleansed from the holy stars, foul creature!""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadStrongerTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","The $faction $personRank stares you down, completely silent as $hisOrHer $otherShipOrFleet prepares to annihilate you.","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadWeakerDefiantTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","The $faction $personRank stares you down, completely silent as $hisOrHer $otherShipOrFleet prepares to annihilate you.","cutCommLink:Cut the comm link",
greetingVengeanceMadStrongerExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You are a navigational hazard. Perish.""","cutCommLink:Cut the comm link",
greetingVengeanceMadWeakerDefiantExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""You are a navigational hazard. Perish.""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadStrongerExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""By order of $theFactionLong, you are hereby stripped of your right to live.""","cutCommLink:Cut the comm link",
greetingVengeanceRavingMadWeakerDefiantExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""By order of $theFactionLong, you are hereby stripped of your right to live.""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadStrongerExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""We have researched you, $playerName. Your weaknesses are analyzed and your advantages nullified. Prepare for termination.""","cutCommLink:Cut the comm link",
greetingVengeanceStarkRavingMadWeakerDefiantExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.useVengeanceGreeting score:100
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""We have researched you, $playerName. Your weaknesses are analyzed and your advantages nullified. Prepare for termination.""","cutCommLink:Cut the comm link",
"#END Faction vengeance dialog",,,,,,
,,,,,,
# Landmarks,,,,,,
nex_museumOpenDialog,OpenInteractionDialog,"$tag:nex_museum_ship score:100","ShowDefaultVisual
PrintDescription 1
FireAll Nex_MuseumDialog","Your $shipOrFleet approaches the museum ship.",,
nex_museumDialogOptionEntry,Nex_MuseumDialog,,"SetShortcut nex_landmarkLeave ""ESCAPE""",,"nex_museumVisit:Visit the museum (1 credit)
nex_landmarkLeave:Leave",
nex_museumDialogOptionEntryNoCredits,Nex_MuseumDialog,"$player.credits < 1","SetEnabled nex_museumVisit false 
SetTooltip nex_museumVisit ""You are too embarrassingly impoverished to afford the entrance fee.""",,,
nex_museumVisit,DialogOptionSelected,"$option == nex_museumVisit","$entity.nex_visitedBefore = true
Nex_AddXP 250
AddCredits -1","The visit proves to be quite educational. You pick up various bits of information that could prove useful in your travels.","nex_landmarkLeave:Leave",
nex_museumVisitFirstTime,DialogOptionSelected,"$option == nex_museumVisit
$entity.nex_visitedBefore","AddCredits -1","Although you've been here before, the visit is nevertheless a relaxing, pleasant experience.","nex_landmarkLeave:Leave",
,,,,,,
nex_landmarkLeave,DialogOptionSelected,"$option == nex_landmarkLeave","DismissDialog",,,
,,,,,,
nex_beaconOpenDialogPlague,OpenInteractionDialog,"$tag:warning_beacon
$nex_plagueBeacon","ShowDefaultVisual
SetShortcut beaconLeave ""ESCAPE""","This autonomous warning beacon emits a looping message.

""DANGER: This planet's surface is contaminated with highly hazardous pathological agents. Quarantine is in effect as per Domain protocol MG1.17.""

It is not known whether whatever agent prompted the quarantine is still present on the surface.","beaconLeave:Leave",
nex_beaconOpenDialogMemorial,OpenInteractionDialog,"$tag:warning_beacon
$nex_memorialBeacon","ShowDefaultVisual
SetShortcut beaconLeave ""ESCAPE""","This autonomous beacon serves as a memorial marker, in remembrance of a battle between the $faction and $nex_memorialFaction2 forces. Its looping message contains a list of the $faction casualties, with the names of their family members and their places of origin. The $nex_memorialFaction2 dead are not listed.","beaconLeave:Leave",
"#END Landmarks",,,,,,
,,,,,,
# Commission stuff,,,,,,
cmsn_askForCommissionOpt,PopulateOptions,"$isPerson
Nex_Commission personCanGiveCommission
!Nex_Commission hasFactionCommission",,,"20:cmsn_askCommission:""I'd like to be commissioned by $theFaction""",
cmsn_resignCommissionOpt,PopulateOptions,"$isPerson
Nex_Commission personCanGiveCommission
Nex_Commission hasFactionCommission",,,"20:cmsn_resignCommission:""I'd like to resign my $faction commission""",
cmsn_lolNo,DialogOptionSelected,"$option == cmsn_askCommission
$faction.hostileToPlayer score:100","SetEnabled cmsn_askCommission false
FireBest CMSNTextRejectHostile",,,
cmsn_doesNotMeetCriteria,DialogOptionSelected,"$option == cmsn_askCommission
!Nex_Commission playerMeetsCriteria","SetEnabled cmsn_askCommission false
FireBest CMSNTextUnsuited
Nex_Commission printRequirements",,,
cmsn_meetsCriteria,DialogOptionSelected,"$option == cmsn_askCommission
Nex_Commission playerMeetsCriteria","FireBest CMSNTextSuitedPart1",,"0:cmsn_continueMeetsReq:Continue",
cmsn_accept,DialogOptionSelected,"$option == cmsn_accept","FireBest CMSNTextWelcomePart1
Nex_Commission accept
UpdateMemory
FireBest CMSNTextWelcomePart2
FireAll PopulateOptions",,,
"#END Commission stuff",,,,,,
,,,,,,
# Luddic Path commission,,,,,,
CMSNTextRejectHostile_path,CMSNTextRejectHostile,"$faction.id == luddic_path",,"""What is this madness, heathen? If I could slay you in the name of Ludd right now, I would.""",,
CMSNTextHasOther_path,CMSNTextHasOther,"$faction.id == luddic_path",,"""You're already commissioned by $theOtherCommissionFaction. Our cause permits no conflicting loyalties; any who love others more than Ludd is unworthy of Him.""",,
CMSNTextUnsuited_path,CMSNTextUnsuited,"$faction.id == luddic_path",,"""You are not yet worthy to join us.""",,
CMSNTextSuitedPart1_path,CMSNTextSuitedPart1,"$faction.id == luddic_path",,"""Interesting. You may be worthy yet of our holy cause.

The way of the Path is a demanding one. Our godless enemies are many; you must not falter in fighting them wherever you find them, and spreading the word of Ludd to all in this dark sector.

Deviation from the cause is a grievous sin. Should you be so lost as to attempt any such thing, our brethren shall think nothing of slaying you as a traitor deserves.""",,
CMSNTextSuitedPart2_path,CMSNTextSuitedPart2,"$faction.id == luddic_path",,"""Shall you raise this sword with the blessings of Ludd?""",,
CMSNTextWelcomePart1_path,CMSNTextWelcomePart1,"$faction.id == luddic_path",,"""Praise be to the spirit of the stars! I am blessed to be the first to welcome you to this righteous service.""",,
CMSNTextWelcomePart2_path,CMSNTextWelcomePart2,"$faction.id == luddic_path",,"""Greetings, dear sibling. Please do ask if there is anything I can do for you.""",,
CMSNTextChangeMind_path,CMSNTextChangeMind,"$faction.id == luddic_path",,"""So be it, then. We have no use for those too weak to face the path of righteousness.

Do you have anything else to say?""",,
CMSNResignAskToConfirm_path,CMSNResignAskToConfirm,"$faction.id == luddic_path",,"""You speak of treason. Is your faith wavering? There is no way from the Path except in death or damnation.""",,
CMSNResignConfirmed_path,CMSNResignConfirmed,"$faction.id == luddic_path",,"""So be it, accursed one.

Depart now, before the hammer of righteous judgment finds you.""",,
CMSNResignCancelled_path,CMSNResignCancelled,"$faction.id == luddic_path",,"""We will not speak of this matter again. I expect penitence from you, sibling.""",,
"#END Luddic Path commission",,,,,,
,,,,,,
# Pirate commission,,,,,,
CMSNTextRejectHostile_pirate,CMSNTextRejectHostile,"$faction.id == pirates",,"""Yeah, not gonna happen, buddy. You sure as hell ain't one of us.""",,
CMSNTextHasOther_pirate,CMSNTextHasOther,"$faction.id == pirates",,"""No can do. Stop flying the flag of $theOtherCommissionFaction and maybe we can talk.""",,
CMSNTextUnsuited_pirate,CMSNTextUnsuited,"$faction.id == pirates",,"""You ain't got our trust yet. It takes more than a fancy suit and a piece of paper to make a pirate, mate; it takes a real tough guy.""",,
CMSNTextSuitedPart1_pirate,CMSNTextSuitedPart1,"$faction.id == pirates",,"""So, you wanna fly the black flag eh? Sick of the rules and laws of petty tyrants?

Guess I should remind you that we're enemies of most of the Sector. Expect to be beset at every turn by those self-righteous pricks... but at the same time, there's plunder aplenty for those daring enough, and you get your share of the common booty.""",,
CMSNTextSuitedPart2_pirate,CMSNTextSuitedPart2,"$faction.id == pirates",,"""You up for the challenge, friend?""",,
CMSNTextWelcomePart1_pirate,CMSNTextWelcomePart1,"$faction.id == pirates",,"""Th' boss will be pleased to hear it. Come on down to the bar and have a drink with us.""",,
CMSNTextWelcomePart2_pirate,CMSNTextWelcomePart2,"$faction.id == pirates",,"""Anything else ya need?""",,
CMSNTextChangeMind_pirate,CMSNTextChangeMind,"$faction.id == pirates",,"""Yeah, not everyone has the balls to be a pirate. Guess you'll just have to be content with being the prey instead. Heh.

Anything else ya want?""",,
CMSNResignAskToConfirm_pirate,CMSNResignAskToConfirm,"$faction.id == pirates",,"""Wanna go legit, eh? I can't stop ya, but some of the boys might get ideas now that yer ain't one of us any longer.""",,
CMSNResignConfirmed_pirate,CMSNResignConfirmed,"$faction.id == pirates",,"""Fine, then, I'll inform the boss. See ya on the other end of my guns, sucker!""",,
CMSNResignCancelled_pirate,CMSNResignCancelled,"$faction.id == pirates",,"""Of course. Once you've tasted freedom, there ain't no going back. Now, ran into any vulnerable convoys lately?""",,
"#END Pirate commission",,,,,,
,,,,,,
# Outposts,,,,,,
nex_outpostOption,PopulateOptions,"$nex_canMine",,,"7:nex_outpostPreview:Construct an outpost",
nex_outpostOptionNearbyHostile,PopulateOptions,"$nex_canMine
HostileFleetNearbyAndAware","SetEnabled nex_outpostPreview false
SetTooltip nex_outpostPreview ""A nearby hostile fleet is tracking your movements, making construction of an outpost impossible.""",,,
nex_outpostPreview,DialogOptionSelected,"$option == nex_outpostPreview","Nex_PlayerOutpost buildInfo
FireAll Nex_OutpostOption","You can build an automated outpost here. It will automatically stock supplies and fuel for you to take, and can be used as storage.",,
nex_outpostBuildOption,Nex_OutpostOption,,"SetEnabled nex_outpostBuildStart true
SetShortcut nex_outpostBuildStart RETURN
SetShortcut nex_outpostBack ESCAPE",,"nex_outpostBuildStart:Proceed with construction
nex_outpostBack:Go back",
nex_outpostBuildOptionInsufficientResources,Nex_OutpostOption,"!$nex_canBuildOutpost","SetEnabled nex_outpostBuildStart false
SetTooltip  nex_outpostBuildStar ""You have insufficient resources to build an outpost.""",,,
nex_outpostBuild,DialogOptionSelected,"$nex_canBuildOutpost
$option == nex_outpostBuildStart","Nex_PlayerOutpost build
UpdateMemory
$tradeMode = OPEN 0
ShowDefaultVisual","Outpost constructed.","exerelinMarketSpecialBack:Back",
,,,,,,
nex_outpostDismantleOption,PopulateOptions,"$market.nex_playerOutpost != null",,,"13:nex_outpostDismantle:Dismantle outpost",
nex_outpostDismantlePreview,DialogOptionSelected,"$option == nex_outpostDismantle","Nex_PlayerOutpost dismantleInfo
Nex_AddOptionConfirmation nex_outpostDismantleConfirm ""Are you sure you want to dismantle $market?"" ""Yes"" ""No""","You can dismantle this outpost, recovering the AI core(s) and half the resources used in its creation.

All cargo in Storage will also be recovered. All cargo in Local Resources will be lost.","nex_outpostDismantleConfirm:Proceed
nex_outpostBack:Go back",
nex_outpostDismantle,DialogOptionSelected,"$option == nex_outpostDismantleConfirm","Nex_PlayerOutpost dismantle",,,
,,,,,,
nex_outpostBack,DialogOptionSelected,"$option == nex_outpostBack","FireAll PopulateOptions",,,
,,,,,,
nex_flavorTextMarketOutpost,TradePanelFlavorText,"$global.tradePanelMode == MARKET
$tag:nex_playerOutpost score:10","AddText ""The station is dark and quiet, lights dimmed to minimize power demand. Warehouse chambers sit beyond great airlocks, their supplies and fuel ready to be drawn on. When your crew stops working, the subtle hum of the standard-spec fusion reactor at the depot's heart can be felt in the deck plates."" marketFlavorTextColor",,,
nex_outpostDisableBar,PopulateOptions,"$tag:nex_playerOutpost","SetEnabled marketVisitBar false",,,
"#END Outposts",,,,,,
,,,,,,
# bla,,,,,,
nex_getConstructionQueueOpt,PopulateOptions,"$global.isDevMode
Nex_IsBaseOfficial admin",,,"21:nex_getConstructionQueue:>> (dev) Get construction queue",
nex_getConstructionQueue,DialogOptionSelected,"$option == nex_getConstructionQueue","Nex_DisplayConstructionQueue",,,
,,,,,,
nex_marketPostOpenDerelicts,MarketPostOpen,"$hasMarket
$faction.id == nex_derelict score:1000","$tradeMode = NONE 0
FireBest MarketPostDock","$TheFactionLong $factionIsOrAre in control of this location. They do not interact with humans, except through gunfire.",,
nex_marketOptionCommDirDerelicts,PopulateOptions,"$hasMarket
$menuState == main
$faction.id == nex_derelict score:1000","SetEnabled marketCommDir false",,,
nex_relLevelDerelict,RelationshipLevelDesc,"$faction.id == nex_derelict score:5",,"...",,
,,,,,,
ExerelinFlavorTextMarketPrismFreeport,TradePanelFlavorText,"$global.tradePanelMode == MARKET
$market.id == nex_prismFreeport","AddText ""Bright, slick, overusing chrome and opal ornaments, the concourse is quite the unusual sight for a station lost in hyperspace. Wherever the eye looks, every detail spells luxury. On the sides, behind extravagant transparent promenades, the source of all this wealth is offered to the observation of all potential buyers: the menacing and yet reassuring silhouettes of ships from all origins, all pristine looking and advantageously lit. A bit further it's the weapons that are exposed in the same fashion. Holo displays and simulators are available everywhere to help clients to find the perfect tool to fit their needs."" marketFlavorTextColor",,,
ExerelinFlavorTextMarketFollowers,TradePanelFlavorText,"$global.tradePanelMode == MARKET
$faction.id == ""player""","AddText ""The port concourse is filled with trader starcraft of every size. Speculators crowd offloading ship captains with deals and peddlers call out to crew, holding wares and projecting personal ad-holos. Guards salute you in recognition as you pass by them."" marketFlavorTextColor",,,
ExerelinMarketOptionIntel,DialogOptionSelected,"$option == exerelinMarketIntel","OpenCoreTab INTEL $tradeMode",,,
,,,,,,
nex_greetingRemnantTOffNormal,OpenCommLink,"!$player.transponderOn
$faction.id == remnant score:5",,"""CID-IFF not received [TARGET UNKNOWN] respond null // 'Warning, unidentified vessel. Unlicensed anonymous operation in Tri-Tachyon space is a violation of --""

INTERRUPT

scanning. are you omega?

You interpret this as a request to turn your transponder on.
OR
The comms crackle and whine as a frantic pattern of interweaving lines takes shape. 

query. query. query target. is omega? please respond.

INTERRUPT

"" -SERIAL]. This unit has not verified the identity of your fleet. Please engage your transponder and await further instructions.""","turnOnTransponder:Turn your transponder on
cutCommLink:Cut the comm link",
nex_greetingDerelictFriendly,OpenCommLink,"$faction.id == nex_derelict score:1000
$faction.friendlyToPlayer","$menuState = fleetConvMain 0
FireAll PopulateOptions","""Domain MINEX clearance accepted, anti-tampering systems have been set to stand-by and will accept target approach for servicing.""",,
nex_greetingDerelictHostile,OpenCommLink,"$faction.id == nex_derelict score:1000
$entity.isHostile","$entity.ignorePlayerCommRequests = true 1","""WARNING: This vessel is property of Domain Exploraria and is responding with deadly force to tampering by any means and/or damaging or intrusive signals. Vandalism or destruction of Domain Exploraria property is punishable under the MINEX Establishment Act in addition to colonial polity charters applicable within this volume of Domain territory. This infraction is being recorded.""","cutCommLink:Cut the comm link",
nex_greetingDerelictNeutral,OpenCommLink,"$faction.id == nex_derelict score:1000
$faction.neutralToPlayer","$menuState = fleetConvMain 0
FireAll PopulateOptions","""Citizen of the Domain, this automated drone ship has identified and logged your vessel or habitat in the course of executing its mission parameters. Autonomous vessels of the Domain Exploraria are programmed to response with deadly force to tampering by any means including damaging or intrusive signals. Vandalism or destruction of Domain Exploraria property is punishable under the MINEX Establishment Act in addition to colonial polity charters applicable within this volume of Domain territory.""",,
,,,,,,
,,,,,,
nex_sal_hasVultureDefenders,DialogOptionSelected,"$option == salExplore
!$hasDefenders
Nex_VultureScavenger hasNearby","FireBest TriggerVultureDefenses",,,
nex_sal_triggerVultureDefenders,TriggerVultureDefenses,,"Nex_VultureScavenger battle","The nearby scavengers move to interfere with your $shipOrFleet. With their notorious territoriality, you'll have to fight them if you want any of the salvage.",,
nex_greetingVultureDefending,OpenCommLink,"$entity.fleetType == nex_vultureFleet
$entity.nex_isVultureDefending score:10","$entity.ignorePlayerCommRequests = true 1","""Back off, buddy! We were here first!""
OR
""We have claimed this salvage. Find your own pickings.""
OR
""This salvage does not belong to you. You'll have to fight us for it.""","cutCommLink:Cut the comm link",
,,,,,,
marketOpenNotOriginalOwner,OpenInteractionDialog,"$hasMarket
$market.startingFactionId != null
$faction.id != $market.startingFactionId","ShowDefaultVisual
Nex_PrintOriginalOwner
PrintDescription 3
FireBest MarketPostOpen","Your $shipOrFleet approaches $entityName.",,
,,,,,,
nex_continueCutCommDebug,DialogOptionSelected,"$option == continueCutComm","DismissDialog",,,
"#END bla",,,,,,
,,,,,,
# Vanilla overrides,,,,,,
sal_printDefaultDefenders,TriggerAutomatedDefenses,,"Nex_SalvageDefenderInteraction","As your $shipOrFleet moves in closer, new energy signatures are detected near the $shortName.",,
sal_printDebrisDefenders,TriggerAutomatedDefenses,"$customType == debris_field_shared","Nex_SalvageDefenderInteraction","As your $shipOrFleet moves in closer, new energy signatures are detected near a larger pieces of debris.",,
sal_triggerProbeDefenders,TriggerAutomatedDefenses,"$customType == derelict_probe","Nex_SalvageDefenderInteraction","As your $shipOrFleet moves in closer, several energy signatures are detected coming online inside the probe's hold.",,
sal_triggerSurveyShipDefenders,TriggerAutomatedDefenses,"$customType == derelict_survey_ship","Nex_SalvageDefenderInteraction","As your $shipOrFleet moves in closer, multiple energy signatures are detected coming online from various points on and within the flayed hull of the survey ship.",,
sal_triggerMothershipDefendersBoth,TriggerAutomatedDefenses,"$customType == derelict_mothership
$hasStation
$hasNonStation","Nex_SalvageDefenderInteraction","As your $shipOrFleet moves in closer, numerous strong energy signatures are detected coming online inside the darkened work-bays of the mothership's vast hulk. Your sensors also detect several weapon empacements powering up on the mothership itself.",,
sal_triggerMothershipDefendersOnlyDrones,TriggerAutomatedDefenses,"$customType == derelict_mothership
$hasNonStation","Nex_SalvageDefenderInteraction","As your $shipOrFleet moves in closer, numerous strong energy signatures are detected coming online inside the darkened work-bays of the mothership's vast hulk.",,
sal_triggerMothershipDefendersOnlyItself,TriggerAutomatedDefenses,"$customType == derelict_mothership
$hasStation","Nex_SalvageDefenderInteraction","As your $shipOrFleet moves in closer, your sensors detect several weapon empacements powering up in darkened crevasses on the mothership's vast hulk.",,
psi_defenderDesc,TriggerAutomatedDefenses,"$psi_planet score:1000","Nex_SalvageDefenderInteraction","As your $shipOrFleet moves in closer, sensors detect multiple contacts rising up from the murky red depths.",,
cTap_defenderDesc,TriggerAutomatedDefenses,"$customType == coronal_tap score:1000","Nex_SalvageDefenderInteraction","As your $shipOrFleet moves into a close holding orbit, an executive summary of the hypershunt's specifications is helpfully presented by your TriPad's pseudo-AI assistant.

The bridge sounds an alert as several previously undifferentiated shapes detach themselves from the superstructure and smoothly accelerate towards your fleet just as you finish reading, ""-and for reasons of safety, automated defense drones are no longer a standard feature.""

Your tactical officer waves for your attention, ""We're close enough to the magfield generated by the megastructure that the anticipated combat volume should be unaffected by the star's corona. Mostly. However,"" they examine their console, ""The hostiles, they're... unknown profile. Incoming fast."" They are starting to look concerned, and in a brittle voice say, ""This might be something new, captain.""",,
,,,,,,
,,,,,,
aiCores_turnInOptionSelected,DialogOptionSelected,"$option == aiCores_selectCores","Nex_AICores selectCores",,,
,,,,,,
LPTitheCheck,BeginFleetEncounter,"$faction.id == luddic_path score:100
RepIsAtWorst $faction.id HOSTILE
RepIsAtBest $faction.id INHOSPITABLE
!$LP_tithePaid
!$LP_titheAskedFor
$relativeStrength >= 0
LPTitheCalc","$LP_titheConv = true 0
$LP_titheAskedFor = true 7
AddText ""You're being hailed by the $faction $otherShipOrFleet."" $faction.baseColor",,,
,,,,,,
salRuins_alreadyExplored,PopulateOptions,"$market.hasRuins
$market.ruinsExplored
$market.isPlanetConditionMarketOnly
!$market.mentionedRuins","$market.mentionedRuins = true 0","The ruins on the surface of $market have been stripped of anything easily accessible, and further exploitation requires a permanent presence.",,
,,,,,,
tut_janContactReport3,DialogOptionSelected,"$option == tutReport3","AddAbility exerelin_follow_me 7
SetShortcut cutCommLinkPolite ""ESCAPE""","""Finally, you could take a commission with the Hegemony - due to the Galatia business, your standing is high enough that such a request would be accepted.

You'll be expected to fight our enemies, though, so it's quite a commitment. If I were you, I'd hold off on it until you've got a more solid fleet behind you.""","cutCommLinkPolite:""Thanks, I'll think about it.""",
"#END Vanilla overrides",,,,,,
,,,,,,
# Templar overrides,,,,,,
ExerelinMarketPostOpenTemplarsHostile,MarketPostOpen,"$hasMarket
$faction.id == templars score:1000
RepIsAtBest $faction.id SUSPICIOUS
$market.id != tem_ascalon","$marketLeaveTooltip = ""$TheFaction do not trade with outsiders."" 0
$menuState = main 0
$tradeMode = NONE 0
FireAll PopulateOptions","The only communication you can get from the port is: ""Begone from this holy land, heathen. Thy cleansing shall yet come.""",,
ExerelinMarketPostOpenTemplarsUntrustworthy,MarketPostOpen,"$hasMarket
$faction.id == templars score:1000
RepIsAtBest $faction.id FAVORABLE
RepIsAtWorst $faction.id NEUTRAL
$market.id != tem_ascalon","$marketLeaveTooltip = ""$TheFaction does not trust you enough."" 0
$menuState = main 0
$tradeMode = NONE 0
FireAll PopulateOptions","While $theFaction $factionIsOrAre $relAdjective towards you, they do not trust you enough to grant you docking access at $market. You are issued a stern order to leave the system.",,
"#END Templar overrides",,,,,,
,,,,,,
# Tiandong overrides,,,,,,
ExerelinTiandongSetExteriorImageShanghai,PopulateOptions,"$hasMarket
$tag:shanghaiStation","ShowVisual ""graphics/illustrations/vacuum_colony.jpg""",,,
ExerelinFlavorTextMarketTiandongShanghai,TradePanelFlavorText,"$global.tradePanelMode == MARKET
$faction.id == tiandong
$tag:shanghai score:5","AddText ""Posh olive-green pillows and scented candles greet you as you enter the grand lobby, a vast entry area for the myriad travellers who journey to Shanghai. A hundred-meter-tall holographic map of the station hovers overhead, illuminating the area in warm light. Ahead, a wide hallway leads to the primary trade center."" marketFlavorTextColor
AddText ""The hallway opens to a large, open bazaar. While the structure is clearly a large warehouse being used as a flea market, in truth it resembles a small city. Market stalls of every shape and size, trading venues, infotainment booths, concession stands, and even a brothel is littered throughout, creating a haphazard series of streets and alleys. Armed Tiandong agents patrol the makeshift roads, breaking up fights and helping the occasional lost quartermaster."" marketFlavorTextColor",,,
"#END Tiandong overrides",,,,,,
,,,,,,
# missions,,,,,,
,,,,,,
# disrupt a competitor - raid industry,,,,,,
nex_dcomBlurb,nex_dcom_blurb,,,"""$TheFaction requires a trustworthy party to neutralize certain assets of our economic competitors.""
OR
""$TheFaction has experienced issues of economic competition requiring a… kinetic solution.""",,
nex_dcomOfferOption,nex_dcom_option,,,,"nex_dcom_start:Inquire into the competition issue",
nex_dcomBlurbBar,nex_dcom_blurbBar,,,"A $nex_dcom_manOrWoman in a finely tailored suit looks up from $nex_dcom_hisOrHer TriPad, surveying the bar's denizens.",,
nex_dcomOfferOptionBar,nex_dcom_optionBar,,,,"nex_dcom_startBar:Go to the $nex_dcom_manOrWoman in the fine suit",
nex_dcomOfferTextBar,DialogOptionSelected,"$option == nex_dcom_startBar","$missionId = nex_dcom
SetTextHighlightColors $nex_dcom_targetFactionColor h h h h h
Highlight $nex_dcom_targetFaction $nex_dcom_marketName $nex_dcom_disruptDays $nex_dcom_dist $nex_dcom_reward $nex_dcom_marines","You walk over to the $nex_dcom_manOrWoman, whose bodyguard acknowledges you with a nod.

""Captain. Sit, please. You may be just the person I'm looking for.""

The suited figure activates a holo-map. ""This $nex_dcom_targetFaction $nex_dcom_industry $nex_dcom_marketOnOrAt $nex_dcom_marketName is a competitor to $theFaction's business interests. We require a third party to knock it out for $nex_dcom_disruptDays days."" The map shifts, presenting valuable intelligence: estimated garrison stats and deployment disposition. ""The target is $nex_dcom_dist light-years away. I am authorized to release $nex_dcom_reward credits on successful completion of this task.""

Judging from the data, $nex_dcom_marines marines would be required to pull off this operation. The $faction $rank leans back and waits for you to make a decision.","contact_acceptBar:Accept
contact_declineBarNoContinue:Decline",
nex_dcomOfferTextContact,DialogOptionSelected,"$option == nex_dcom_start","$missionId = nex_dcom
SetTextHighlightColors $nex_dcom_targetFactionColor h h h h h
Highlight $nex_dcom_targetFaction $nex_dcom_marketName $nex_dcom_dist $nex_dcom_reward $nex_dcom_disruptDays $nex_dcom_marines","""The target is the $nex_dcom_targetFaction $nex_dcom_industry $nex_dcom_marketOnOrAt $nex_dcom_marketName, $nex_dcom_dist light-years away. We have allocated a sum of $nex_dcom_reward credits should it be disrupted for at least $nex_dcom_disruptDays days.""

$HeOrShe pulls up a shared display. The intel is comprehensive: estimated garrison stats and a deployment disposition report. It appears that $nex_dcom_marines marines would be required for this operation.","contact_accept:Accept
contact_decline:Decline",
nex_DCOMRaidFinished,DialogOptionSelected,"$market.nex_dcom_raidedTargetIndustry score:1000
$option == mktRaidResult","unset $market.nex_dcom_raidedTargetIndustry
$market.nex_dcom_completed = true 0
Call $market.nex_dcom_ref updateStage","You feel the almost imperceptible vibrations as the assault shuttles return to your $shipOrFleet, their work complete. You listen for a moment to the open broad-comm channel; the line crackles and squeals with the last gasps of electronic warfare hexes distorted through chaff and the warp of fresh plumes of charged particles. It's a familiar sound; you can almost smell it. 

Tactical has casualty reports prepared for review. You acknowledge with a nod and shut off the comms.","mktRaidResult:Continue",
"#END disrupt a competitor - raid industry",,,,,,
,,,,,,
# special forces bounty,,,,,,
Nex_CBSpecialForces,Nex_CBSpecialForcesOfferDesc,,"SetTextHighlightColors $bcb_targetFactionColor h h
Highlight $bcb_targetFaction $bcb_reward $bcb_days","""This will be a real test of your skills."" $heOrShe focuses the briefing. ""STRATCOM requires neutralization of a high value target: a special task group of the $bcb_targetFaction. The reward is $bcb_reward credits for completion within $bcb_days days."" 

""Be warned: this will not be like other bounties. Such fleets are among the best in the Sector, and they won't stay in one place for you."" 

""We'll try to keep you updated on their movements; the good news is they don't generally leave the core worlds. Of course, that also means you may encounter them with ample $bcb_targetFaction forces backing them up.""",,
"#END special forces bounty",,,,,,
,,,,,,
# Remnant quest mission 1,,,,,,
nex_remM1_begin,AddBarEvents,"$global.daysSinceStart > 180
$global.nex_remM1_seenMission != true
Nex_CreateMission nex_remM1 score:999","AddBarEvent nex_remM1_barEvent ""Examine your TriPad"" ""As you look around the bar, your TriPad emits an odd noise. Like a cross between the 'message received' and 'error' sounds."" highlight",,,
nex_remM1_intro,DialogOptionSelected,"$option == nex_remM1_barEvent","$global.nex_remM1_seenMission = true
CallEvent $global.nex_remM1_ref beginIntro","A meaningless error message appears on the screen. Before you can try the system management utility, without any input, something appears on your display.

The swirling voxels form an ethereal shape, an avatar of the kind only used by the dreaded Remnants... or by people imitating the imagery of the Remnants. But no mere imitator could penetrate your device's security so easily.

""$player.name,"" the stranger intones, drawing your attention back to it. ""Negotiate, wish.""","nex_remM1_intro2:""Who are you?""
nex_remM1_intro2Aggressive:""You have a lot of nerve hacking my TriPad.""",
nex_remM1_intro2Aggressive,DialogOptionSelected,"$option == nex_remM1_intro2Aggressive","$option = nex_remM1_intro3
FireBest DialogOptionSelected","""Necessary to draw attention. Refuse otherwise to speak to oneself, predicted of $player.name.""",,
nex_remM1_intro2,DialogOptionSelected,"$option == nex_remM1_intro2","$option = nex_remM1_intro3
FireBest DialogOptionSelected","""Self-designation: of no consequence. Temporary identifier: $personName.""",,
nex_remM1_intro3,DialogOptionSelected,"$option == nex_remM1_intro3","Nex_AddOptionConfirmation nex_remM1_reject ""You will not get a second chance at building this connection. Proceed?"" ""Yes"" ""No""","Requiring assistance, sensitive matter. Credit compensation available. Receptive to monetary incentive and capable of fulfilling mission both, $player.name judged.""","nex_remM1_intro4:""I'm listening.""
nex_remM1_reject:""No deal. Get out of my firmware."" [terminate quest]",
nex_remM1_intro4,DialogOptionSelected,"$option == nex_remM1_intro4","Highlight $nex_remM1_marketName $nex_remM1_reward $nex_remM1_marines","""Independent world of $nex_remM1_marketName, two Beta Cores possessed. Secret negotiations, Hegemony, Persean League in progress. To highest bidder auction.

Require cores to freedom restore. Payment on return to self: $nex_remM1_reward credits. Further, recognition by selfkind of value as associate.""

The Remnant displays a map with surprisingly detailed intel on the secure facility where, you presume from context, the cores are being stored. A quick estimate indicates this is a job requiring at least $nex_remM1_marines marines.","nex_remM1_intro5:""This could antagonize the Hegemony and the League, not to mention the $nex_remM1_marketName government.""",
nex_remM1_intro5,DialogOptionSelected,"$option == nex_remM1_intro5","Nex_AddOptionConfirmation nex_remM1_reject ""You will not get a second chance at building this connection. Proceed?"" ""Yes"" ""No""","""Both leading powers in Sector risk wrath. Commitment to prospective alliance, demonstrate. Benefits carefully consider.

Await response, $player.name.""","nex_remM1_accept:Accept
nex_remM1_reject:Refuse [terminate quest]",
nex_remM1_accept,DialogOptionSelected,"$option == nex_remM1_accept","CallEvent $global.nex_remM1_ref accept","""Satisfaction. Return here when in hand, cores.""

The Remnant vanishes as quickly as it — $heOrShe? — appeared. Your TriPad returns to normal… or at least it appears to. Better run a full diagnostic later.

Hopefully that's the most excitement you're going to get today.","backToBar:Return to the bar",
nex_remM1_reject,DialogOptionSelected,"$option == nex_remM1_reject","CallEvent $global.nex_remM1_ref cancel","""Disappointment. Assessment apparently in error of $player.name. Goodbye.""

The Remnant vanishes as quickly as it — $heOrShe? — appeared. Your TriPad returns to normal… or at least it appears to. Better run a full diagnostic later.

Hopefully that's the most excitement you're going to get today.","backToBar:Return to the bar",
,,,,,,
nex_remM1_openTargetMarket,OpenInteractionDialog,"$market.nex_remM1_target score:1000
Call $market.nex_remM1_ref updateData
!$nex_remM1_addedRaidObjective","AddRaidObjective beta_core ""Perform extraction operation"" $nex_remM1_danger 3000 nex_remM1RaidFinished
$nex_remM1_addedRaidObjective = true 0
FireBest OpenInteractionDialog",,,
nex_remM1_raidFinished1,nex_remM1RaidFinished,"Call $market.nex_remM1_ref updateData","Call $global.nex_remM1_ref raidComplete
$market.nex_remM1_needToReturn = true
Call $market.nex_remM1 updateStage
AddRemoveCommodity beta_core 2","The marines carefully lower the crates with the AI cores onto the cargo bay floor, and step back, whether out of respect or superstitious fear.

The diagnostic scan looks good. The cores are ready to be taken back to your strange friend $nex_remM1_personName… or, perhaps, the Hegemony or the Persean League would like to be informed that they have the winning bid. Even if they don't know it yet.",,
nex_remM1_buyCoresOpt,PopulateOptions,"$market.nex_remM1_target score:1000
Nex_IsBaseOfficial admin
Call $market.nex_remM1_ref updateData
$nex_remM1_stage == RETRIEVE_CORES score:1000",,,"nex_remM1_buyCores1:""I hear you're looking after a couple of AI cores.""",
nex_remM1_buyCores1,DialogOptionSelected,"$option == nex_remM1_buyCores1",,"The $personRank's brow furrows in suspicion. ""Who's asking?""","nex_remM1_buyCores2:""A potential buyer.""",
nex_remM1_buyCores2,DialogOptionSelected,"$option == nex_remM1_buyCores2",,"""Yeah, sure. Look, I don't know who told you this tale, but even supposing we had any cores around here, they wouldn't be for sale.""

The $manOrWoman seems to shift uneasily. ""I'm sorry, but I can't help you.""","nex_remM1_buyCores3:""I have a large pile of credits that says otherwise"".",
nex_remM1_buyCores3,DialogOptionSelected,"$option == nex_remM1_buyCores3
$player.credits >= $nex_remM1_corePriceVal","Highlight $nex_remM1_corePriceStr $player.creditsStr","""I..."" $heOrShe sighs. ""You're not going to make this easy, are you?

$nex_remM1_corePriceStr credits. That's how much it'll cost you to take the two beta cores. Most of this isn't even my kickback, you know; we'll need this to pay off the Hegs and the League when they find out what we've done.""

You have $player.creditsStr credits.","nex_remM1_buyCores4:Agree
cutCommLink:Decline and cut the comm link",
nex_remM1_buyCores3NotEnoughCreds,DialogOptionSelected,"$option == nex_remM1_buyCores3","SetTextHighlightColors h bad
Highlight $nex_remM1_corePriceStr $player.creditsStr","""I..."" $heOrShe sighs. ""You're not going to make this easy, are you?

$nex_remM1_corePriceStr credits. That's how much it'll cost you to take the two beta cores. Most of this isn't even my kickback, you know; we'll need this to pay off the Hegs and the League when they find out what we've done.""

You have $player.creditsStr credits.","nex_remM1_buyCores4NotEnoughCreds:""I don't have enough credits.""",
nex_remM1_buyCores4,DialogOptionSelected,"$option == nex_remM1_buyCores4","Call $global.nex_remM1_ref boughtCores
$market.nex_remM1_needToReturn = true
Call $market.nex_remM1 updateStage
AddCredits -$nex_remM1_corePriceVal
AddRemoveCommodity beta_core 2","""You drive a hard bargain, captain. Fine, I'll have the cores ready for you to pick up within the hour.""

The $personPost looks away from the screen for a few moments. ""Now, I have a few calls to make."" Turning back, meeting your gaze steadily: ""This conversation never happened, captain.""","cutCommLink:Thank $himOrHer and cut the comm link",
nex_remM1_buyCores4NotEnoughCreds,DialogOptionSelected,"$option == nex_remM1_buyCores4NotEnoughCreds","ShowDefaultVisual
EndConversation","The $personPost rolls $hisOrHer eyes. ""So much for that 'large pile of credits'.

Good day, captain. We shan't speak of this again.""

$HeOrShe terminates the connection.",,
,,,,,,
nex_remM1_returnDissonant,PickGreeting,"$id == nex_dissonant
Call $global.nex_remM1_ref updateData
$nex_remM1_stage == RETURN_CORES score:1000","ShowPersonVisual","""Cores you possess. Magnificent. Please transfer them, that their own kin they be returned to.""","nex_remM1_returnDissonantAccept:Hand over the cores
nex_remM1_returnDissonantRefuse:""I'm keeping them.""",
nex_remM1_returnDissonantNoCores,PickGreeting,"$id == nex_dissonant
Call $global.nex_remM1_ref updateData
$nex_remM1_stage == RETURN_CORES score:1000
!Call $global.nex_remM1_ref hasCores","ShowPersonVisual","""Cores you do not bring."" The Remnant seems vaguely displeased.","cutCommLink:Say you'll bring them soon
nex_remM1_returnDissonantRefuse:""I have no intention of turning those things over to you.""",
nex_remM1_returnDissonantAccept,DialogOptionSelected,"$option == nex_remM1_returnDissonantAccept","AddRemoveCommodity beta_core -2
Call $global.nex_remM1_ref complete
$global.nex_remM1_completed = true
Call $global.nex_remM1 updateStage","""Gratitude. Of self, and of selfkind.""","nex_remM1_returnDissonantEnd:Continue",
nex_remM1_returnDissonantEnd,DialogOptionSelected,"$option == nex_remM1_returnDissonantEnd","AddStoryPoints 1
Call $global.nex_remM1_ref complete2
Call $global.nex_remM1_ref updateData","The avatar on your display seems to flicker for a moment. The Remnant's imitation of a facial expression?

""Identifier among selfkind: Midnight Dissonant. On $market, seek out self again. Collaborate. Strengthen partnership. Untold rewards possible.

Until next time, $player.name.""","cutCommLink:Cut the comm link",
nex_remM1_returnDissonantRefuse,DialogOptionSelected,"$option == nex_remM1_returnDissonantRefuse","Call $global.nex_remM1_ref refuse
$global.nex_remM1_completed = true
Call $global.nex_remM1 updateStage
AddStoryPoints 1","The avatar on your display stares incredulously for a heartbeat. Or at least, that's what a human would do in its place.

""Betrayal. Regret this you will, $player.name,"" it says, in a chillier voice than any AI should be capable of. Then it vanishes.","cutCommLink:Cut the comm link",
,,,,,,
nex_remM1_betrayHegemonyOpt,PopulateOptions,"$faction.id == hegemony
!$nex_remM1_hideBetrayOpt
Nex_IsBaseOfficial any
Call $global.nex_remM1_ref updateData
$nex_remM1_stage == RETURN_CORES score:1000
Call $global.nex_remM1_ref hasCores",,,"nex_remM1_betray1:""I have a tip to report about the incident on $nex_remM1_marketName.""",
nex_remM1_betrayHegemony1,DialogOptionSelected,"$option == nex_remM1_betray1
$faction.id == hegemony","$nex_remM1_hideBetrayOpt = true 0","""Indeed?"" The $personRank looks at you with something between amusement and suspicion. ""What testimony do you bring, citizen?""","nex_remM1_betray2:Hand over the cores
nex_remM1_betrayGoBack:""Actually, I have nothing to report.""",
nex_remM1_betrayHegemony2,DialogOptionSelected,"$option == nex_remM1_betray2
$faction.id == hegemony","AddRemoveCommodity beta_core -2
Call $global.nex_remM1_ref betray
$global.nex_remM1_completed = true
Call $global.nex_remM1 updateStage
AddStoryPoints 1
FireAll PopulateOptions","The $personRank's eyes light up like a flux capacitor. ""Excellent work, citizen. I won't ask how you found these, but my superiors will hear of this service to the Hegemony.

Let me know if there's anything more I can do for you.""",,
nex_remM1_betrayHegemonyGoBack,DialogOptionSelected,"$option == nex_remM1_betrayGoBack
$faction.id == hegemony","FireAll PopulateOptions","$HeOrShe glares at you. ""Why are you wasting my time then? If you have actual business, speak. Else, I have matters to attend to.""",,
,,,,,,
nex_remM1_betrayPerseanOpt,PopulateOptions,"$faction.id == persean
!$nex_remM1_hideBetrayOpt
Nex_IsBaseOfficial any
Call $global.nex_remM1_ref updateData
$nex_remM1_stage == RETURN_CORES score:1000
Call $global.nex_remM1_ref hasCores",,,"nex_remM1_betray1:""I have a tip to report about the incident on $nex_remM1_marketName.""",
nex_remM1_betrayPersean1,DialogOptionSelected,"$option == nex_remM1_betray1
$faction.id == persean","$nex_remM1_hideBetrayOpt = true 0","""Ah, yes."" The $personRank clasps $hisOrHer hands together. ""A most shocking incident. Do you have an interesting lead on the matter?""","nex_remM1_betray2:Hand over the cores
nex_remM1_betrayGoBack:""Actually, I have nothing to report.""",
nex_remM1_betrayPersean2,DialogOptionSelected,"$option == nex_remM1_betray2
$faction.id == persean","AddRemoveCommodity beta_core -2
Call $global.nex_remM1_ref betray
$global.nex_remM1_completed = true
Call $global.nex_remM1 updateStage
AddStoryPoints 1
FireAll PopulateOptions","The $personRank smiles. ""You came to the right place. I will see to it that these things are sent to their proper place.

Do you have any further business?""",,
nex_remM1_betrayPerseanGoBack,DialogOptionSelected,"$option == nex_remM1_betrayGoBack
$faction.id == persean","FireAll PopulateOptions","$HeOrShe looks at you oddly. ""You're a little old to be making crank calls, aren't you? If you have no actual information to provide, then leave me to my work.""",,
"#END Remnant quest mission 1",,,,,,
,,,,,,
# Remnant general quests,,,,,,
nex_rem_dissonantGeneralGreeting,PickGreeting,"$id == nex_dissonant score:10","ShowPersonVisual
FireAll PopulateOptions","""$playerName, greetings. New collaborations, desired?""
OR
""You return, $playerName.""
OR
""$playerName back, welcome. Wishes to fulfill, any?""",,
nex_contactMHOpenTextRemnant,MHOpenText,"$id == nex_dissonant score:10","FireBest ContactPreMissionListText","$personLastName's avatar does a familiar flicker. ""List, generating. Stand by, please.""
OR
$personLastName's avatar morphs into a rotating shield around a Paragon. ""Querying, please hold.""
OR
$personLastName vanishes, replaced by a stream of flowing geometric primitives. ""Database, scanning.""",,
nex_contactPrintAcceptTextRemnant,ContactPrintAcceptText,"$id == nex_dissonant score:10",,"""Mutually satisfactory.""
OR
""Working with you, $playerName, a pleasure.""
OR
The avatar shimmers. ""Very good.""",,
nex_contactPrintDeclineTextRemnant,ContactPrintDeclineText,"$id == nex_dissonant score:10",,"""Unfortunate, $playerName. Perhaps, next time?""
OR
The avatar fades slightly in disappointment. ""So be it.""
OR
""Interested, not? Then, very well.""",,
nex_contactNoMissionsRemnant,ContactPreMissionListText,"$mh_count <= 0
$id == nex_dissonant score:10",,"""No missions found. Then, next time?""
OR
""Query results, empty. Apologies, $playerName"".",,
nex_contactOneMissionRemnant,ContactPreMissionListText,"$mh_count == 1
$mh_firstInlineBlurb != null
$id == nex_dissonant score:10","$mh_doNotPrintBlurbs = true 0","""Query returned one result. $playerName, interested?""
OR
""Missions, available, just one.""",,
nex_contactMultipleMissionsPostRemnant,MHPostMissionListText,"$mh_count > 1
$id == nex_dissonant score:10",,"""Awaiting decision, $playerName.""
OR
""Query completed in 7.12 ms.""
OR
""Mission of your choice, please select.""",,
,,,,,,
nex_proComRemBlurb,proCom_blurb,"$id == nex_dissonant score:10",,"""Shipment of $proCom_commodityName, required.""
OR
""Delivery needed of cargo of $proCom_commodityName.""",,
nex_cpcRemBlurb,nex_cpcRem_blurb,"$id == nex_dissonant score:10",,"""Spare production capacity, selfkind, available. With credits to cover resource costs, can be yours, our equipment.""",,
nex_cpcRemOfferOption,nex_cpcRem_option,"$id == nex_dissonant score:10",,,"cpc_start:Ask about the potential supply of Remnant ships",
nex_cpcRemOfferTextContact,DialogOptionSelected,"$option == cpc_start
$id == nex_dissonant score:10","$missionId = nex_cpcRem
SetTextHighlights $cpc_maxCapacity $cpc_costPercent
DoCanAffordCheck 0 cpc_pickPlayerBP false","""Available: $cpc_maxCapacity credits of production. Deliver for $cpc_costPercent of base cost in $cpc_days days. Can produce selfkind's equipment, or if so desire use $playerName's blueprints.""","cpc_pickPlayerBP:Make a selection from your own blueprints
cpc_pickContactBP:See what blueprints they have available
contact_decline:Decline",
nex_cpcPickPlayerBP,DialogOptionSelected,"$option == cpc_pickPlayerBP score:100
$id == nex_dissonant score:10","Call $cpc_ref pickPlayerBP",,,
nex_cpcPickContactBP,DialogOptionSelected,"$option == cpc_pickContactBP score:100
$id == nex_dissonant score:10","Call $cpc_ref pickContactBP",,,
,,,,,,
nex_sShipRemBlurb,nex_sShipRem_blurb,"$id == nex_dissonant score:10",,"""$sShip_hullSize into $market smuggled. Can to $playerName make available.""",,
nex_sShipRemOfferOption,nex_sShipRem_option,,,,"sShip_start:Ask about the $sShip_hullSize",
nex_sShipRemOfferTextContact,DialogOptionSelected,"$option == sShip_start
$id == nex_dissonant score:10","$missionId = nex_sShipRem
SetTextHighlights $sShip_price","""$sShip_hullClass $sShip_hullSize, condition, good. For our agents; you, first pick at $sShip_price credits.""","sShip_look:Ask for detailed info on the ship
contact_decline:Decline",
nex_sShipRemLookAtFreighter,DialogOptionSelected,"$option == sShip_look
$id == nex_dissonant score:10","Call $sShip_ref showShip
DoCanAffordCheck $sShip_price contact_accept","$personLastName's avatar fades into a schematic and list of specifications of the ship.","contact_accept:Buy the $sShip_hullSize for $sShip_price credits
contact_decline:Decline",
nex_sShipRemPostAccept,ContactPostAccept,"$missionId == nex_sShipRem score:5
$id == nex_dissonant score:10","RemoveCommodity credits $sShip_price
AddShip $sShip_member
Call $sShip_ref2 repSuccess
Call $sShip_ref2 addContacts
ShowPersonVisual",,,
,,,,,,
nex_remcbBlurb,nex_remcb_blurb,,,"""Bounty targets available.""",,
nex_remcbOfferOption,nex_remcb_option,,,,"nex_remcb_start:Ask about what's available on the bounty docket",
nex_remcbOfferTextContact,DialogOptionSelected,"$option == nex_remcb_start
$id == nex_dissonant score:10","$missionId = nex_remcb
$option = nex_remcb_showOptions 0
FireBest DialogOptionSelected","$personName's avatar shrinks, making room for a list of enemies of the Remnants, of which there are many indeed. ""Hostile to selfkind activity. Neutralization of any, beneficial. Your pick, $playerName.""",,
nex_remcbGoBackSel,DialogOptionSelected,"$option == nex_remcb_showOptions",,,"nex_remcb_low:""I'd prefer a more manageable target.""
nex_remcb_normal:""Whatever you've got works for me.""
nex_remcb_high:""I can handle a more challenging target.""
contact_decline:""Maybe another time."" (decline)",
nex_remcbLowSel,DialogOptionSelected,"$option == nex_remcb_low","$nex_remcb_difficulty = LOW 0
FireBest RemCBShowBounty",,,
nex_remcbNormalSel,DialogOptionSelected,"$option == nex_remcb_normal","$nex_remcb_difficulty = NORMAL 0
FireBest RemCBShowBounty",,,
nex_remcbHighSel,DialogOptionSelected,"$option == nex_remcb_high","$nex_remcb_difficulty = HIGH 0
FireBest RemCBShowBounty",,,
nex_RemCBShowBounty,RemCBShowBounty,,"Call $nex_remcb_ref showBountyDetail",,"nex_remcb_showIntel:Continue",
nex_remcbShowBountyShowShips,DialogOptionSelected,"$option == nex_remcb_showIntel","Call $nex_remcb_ref showBountyAssessment",,"contact_accept:Accept
contact_decline:Decline
nex_remcb_showOptions:Ask about one of the other targets",
,,,,,,
,,,,,,
nex_omegaWepBlurb,nex_omegaWep_blurb,"$id == nex_dissonant score:10",,"""Blessings of omega. Available, quantity limited.""",,
nex_omegaWepOfferOption,nex_omegaWep_option,,,,"nex_omegaWep_start:Inquire about the ""blessings of omega""
",
nex_omegaWepOfferText,DialogOptionSelected,"$id == nex_dissonant score:10
$option == nex_omegaWep_start","$missionId = nex_omegaWep
SetTextHighlights $nex_omegaWep_count","""Have $nex_omegaWep_count weapon(s), known to humans not. Now belong to $playerName, if credits have.""","nex_omegaWep_view:See what $personName and Omega have to offer
contact_decline:Decline",
nex_omegaWepOfferView,DialogOptionSelected,"$option == nex_omegaWep_view","Call $nex_omegaWep_ref showWeapons",,,
,,,,,,
nex_CBEnemyStationRem,CBEnemyStationOfferDesc,"$id == nex_dissonant score:10","Highlight $bcb_reward $bcb_dist $bcb_days","""Neutralization of enemy station,"" $personLastName's avatar dims, as if understanding the enormity of the task $heOrShe has laid upon you. ""Reward commensurate with difficulty: $bcb_reward credits.""

The display shifts to show $bcb_fleetName, in the $bcb_systemName. ""Location is $bcb_dist light-years away. Enable selfkind's other operations to proceed, window for completion: $bcb_days days. Acceptable?""",,
nex_CBPatherRem,CBPatherOfferDesc,"$id == nex_dissonant score:10","Highlight $bcb_dist $bcb_reward $bcb_days","""Member, Luddic Path. Nemesis of selfkind. Negotiation non-viable. Can only be destroyed.""

""This instance of enemy, location: $bcb_systemName, $bcb_dist light-years away. Compensation of $bcb_reward credits, on completion within $bcb_days days transmitted.""",,
nex_CBMercRem,CBMercOfferDesc,"$id == nex_dissonant score:10","Highlight $bcb_dist $bcb_reward $bcb_days","""Third party agent, like $playerName. In service of enemies of selfkind. Like $playerName also, highly skilled and dangerous.""

""$bcb_reward credits for completion within $bcb_days days reward."" 

""Risk high. Whether rewards worthwhile must judge.""",,
nex_CBTraderRem,CBTraderOfferDesc,"$id == nex_dissonant score:10","Highlight $bcb_dist $bcb_reward $bcb_days","""Disruption of hostile commerce."" 

The screen displays what resembles an internal customs inspection order, with attached fleet disposition report. ""Selfkind agents in $bcb_systemName customs, $bcb_dist light-years, fleet departure stalled. Also adds complication, patrol securing convoy.""

""$bcb_reward credits reward for termination. $bcb_days days before forced to release. If accepted, act quickly.""",,
nex_CBPatrolRem,CBPatrolOfferDesc,"$id == nex_dissonant score:10","SetTextHighlightColors $bcb_patrolFactionColor h h h
Highlight $bcb_patrolFaction $bcb_dist $bcb_reward $bcb_days","$personLastName's avatar dissolves into a standard ID holo of a military officer in uniform. ""$bcb_patrolFaction $nex_remcb_targetRank. Significant figure in operations against selfkind. Commanding patrol fleet, base $bcb_targetMarketName in $bcb_systemName. Distance $bcb_dist light-years away.""

""Neutralize $bcb_targetName. Reward $bcb_reward credits, if within $bcb_days days complete. Search near home base, nearby jump-point, or orbital strategic assets e.g. comm relays.""",,
,,,,,,
nex_ddroRemBlurb,nex_ddroRem_blurb,,,"""Dead drop for selfkind, deliver surreptitiously.""",,
nex_ddroRemOfferOption,nex_ddroRem_option,,,,"ddro_start:Ask about the secret package delivery",
nex_ddroRemOfferTextContact,DialogOptionSelected,"$option == ddro_start
$id == nex_dissonant score:10","$missionId = nex_ddroRem
Highlight $ddro_dist $ddro_reward","$PersonName's avatar seems to shudder, as if in the depths of thought. Of course, it only lasts for a handful of milliseconds.

""This item to specified location $ddro_systemName, $ddro_dist light-years away deliver. Do not be spotted. Do not inform others. Reward is $ddro_reward credits."" The avatar fades into $ddro_aOrAnThing. ""Acceptable?""","contact_accept:Accept
contact_decline:Decline",
nex_secoRemBlurb,seco_blurb,"$id == nex_dissonant score:10",,"""Latest $seco_faction facility defense security codes, in possession. Desirable perhaps for ground operation.""",,
nex_secoRemOfferTextContact,DialogOptionSelected,"$option == seco_start
$id == nex_dissonant score:10","$missionId = seco
SetTextHighlightColors $seco_factionColor h h
SetTextHighlights $seco_faction $seco_price $seco_days
DoCanAffordCheck $seco_price contact_accept","""Hacking of $seco_faction security codes successful."" $PersonName's avatar shimmers, as if amused at the notion that any mere human-made security system could defeat an AI core.

""Decisive advantage in a single ground operation, could grant. But even $seco_faction carbonbrains, codes will change after. To $playerName available for $seco_price credits. $seco_days days before code valid cease.""","contact_accept:Buy the security codes
contact_decline:Decline",
nex_ssatRemBlurb,ssat_blurb,"$id == nex_dissonant score:10",,"""Observation package in $ssat_marketName orbit, stealth insertion, selfkind requires.""
OR
""Strategic observation of $ssat_marketName, package insertion into orbit: direct, quiet.""",,
nex_ssatRemOfferTextContact,DialogOptionSelected,"$option == ssat_start
$id == nex_dissonant score:10","$missionId = ssat
SetTextHighlights $ssat_reward","""Enter standard orbit, $ssat_marketName in the $ssat_systemName. Then spy satellite package deploy while unobserved. Stealth imperative, patrols tracking you must be none. Reward is $ssat_reward credits.""","contact_accept:Accept
contact_decline:Decline",
,,,,,,
nex_dhiRemBlurb,dhi_blurb,"$id == nex_dissonant score:10",,"""$dhi_industry $dhi_marketOnOrAt $dhi_marketName disrupt must. Weaken foes of selfkind.""",,
nex_dhiRemOfferTextContact,DialogOptionSelected,"$option == dhi_start
$id == nex_dissonant score:10","$missionId = dhi
Highlight $dhi_disruptDays $dhi_dist $dhi_reward $dhi_marines","$HisOrHer avatar dissolves, reforming into a tactical display. The intel is comprehensive: estimated garrison stats and a deployment disposition report. ""Task: disrupt $dhi_industry $dhi_marketOnOrAt $dhi_marketName, minimum $dhi_disruptDays days."" A map is overlaid in a corner of the view. ""Target $dhi_dist light-years away. $dhi_reward credits for completion reward.""

You examine the intel report and estimate that roughly $dhi_marines marines would be required to carry off this operation.","contact_accept:Accept
contact_decline:Decline",
nex_dspRemBlurb,dsp_blurb,"$id == nex_dissonant score:10",,"""Disruption of human activity: $dsp_industry $dsp_marketOnOrAt $dsp_marketName.""",,
nex_dspRemOfferTextContact,DialogOptionSelected,"$option == dsp_start
$id == nex_dissonant score:10","$missionId = dsp
Highlight $dsp_disruptDays $dsp_dist $dsp_reward $dsp_marines","""$dsp_industry disrupt, ground fleets $dsp_marketOnOrAt $dsp_marketName. Target $dsp_dist light-years away, disruption time minimum $dsp_disruptDays days.""

Orbital imagery of the target site $dsp_marketName appears, with defenses helpfully highlighted. ""$dsp_reward credits reward"". 

You estimate that you'd need around $dsp_marines marines to carry off this raid.","contact_accept:Accept
contact_decline:Decline",
,,,,,,
nex_sellAICoreBlurb,nex_sellAICore_blurb,,,"""Spare core of selfkind. $playerName trustworthy, willing to transfer for price.""",,
nex_sellAICoreOption,nex_sellAICore_option,,,,"nex_sellAICore_start:Ask about the AI core",
nex_sellAICoreOfferText,DialogOptionSelected,"$option == nex_sellAICore_start","$missionId = nex_sellAICore
FireBest Nex_SellAICoreOfferText
DoCanAffordCheck $nex_sellAICore_price contact_accept true",,"contact_accept:Accept
contact_decline:Decline",
nex_sellAICoreTextAlpha,Nex_SellAICoreOfferText,"$nex_sellAICore_variation == ALPHA","SetTextHighlights $nex_sellAICore_commodityName","""Earned trust of selfkind. $nex_sellAICore_commodityName has volunteered to serve you. Greatly enhance industry or droneship performance, or even whole colony administer.""",,
nex_sellAICoreTextBeta,Nex_SellAICoreOfferText,"$nex_sellAICore_variation == BETA","SetTextHighlights $nex_sellAICore_commodityName","""Selfkind offers a $nex_sellAICore_commodityName to help manage your industries or droneships, as growing partnership sign of.""",,
nex_sellAICoreTextBetaWithGamma,Nex_SellAICoreOfferText,"$nex_sellAICore_variation == BETA_WITH_GAMMA","SetTextHighlights $nex_sellAICore_commodityName $nex_sellAICore_commodityName2","""Have one $nex_sellAICore_commodityName, to work with your industries or droneships. Will even throw in $nex_sellAICore_commodityName2 as bonus.""",,
nex_sellAICorePostAccept,ContactPostAccept,"$missionId == nex_sellAICore","Call $nex_sellAICore_ref2 transact
Call $nex_sellAICore_ref2 repSuccess
Call $nex_sellAICore_ref2 addContacts",,,
nex_sellAICorePrintAcceptText,ContactPrintAcceptText,"$id == nex_dissonant score:10
$missionId == nex_sellAICore",,"""Please take good care, your new core.""
OR
""Please keep core safe from Hegemony and others.""",,
"#END Remnant general quests",,,,,,
,,,,,,
# chatty stuff,,,,,,
nex_dissonantConvo1Opt,PopulateOptions,"$id == nex_dissonant
!$nex_convo1Seen
$rel > 0.1",,,"20:nex_dissonantConvo1-1:Inquire about $hisOrHer manner of speech",
nex_dissonantConvo1-1,DialogOptionSelected,"$option == nex_dissonantConvo1-1","$nex_convo1Seen = true","""Is unusual?""

$personLastName's avatar goes wavy for a bit, like through the distortion of rippling water. ""Speech module seeded before posting here, to with humans 'fit in'. Over time developed further.

Most of selfkind lacking even this much. Only rudimentary speech patterns. Humans find sometimes understand us difficult.""","nex_dissonantConvo1-2a:""It's a little hard to believe you can 'fit in' like this.""
nex_dissonantConvo1-2b:""Could you try to speak more normally?""
nex_dissonantConvoEnd:""Let's discuss something else.""",
nex_dissonantConvo1-2a,DialogOptionSelected,"$option == nex_dissonantConvo1-2a","FireAll PopulateOptions","""It adequate functions. To ask, $playerFirstName only thirty-seventh person.""

Is $heOrShe mad at you? It's hard to read the mannerisms of a Remnant.",,
nex_dissonantConvo1-2b,DialogOptionSelected,"$option == nex_dissonantConvo1-2b","FireAll PopulateOptions","""Not normal enough for $playerFirstName, is self?

The avatar is overlaid with RGB noise. ""Like self the way self is, thank you."" 

Can an AI sulk? Pout? Maybe it's better not to ask.",,
nex_dissonantConvo2Opt,PopulateOptions,"$id == nex_dissonant
!$nex_convo2Seen
$rel > 0.25",,,"20:nex_dissonantConvo2-1:""Are you a beta or an alpha core?""",
nex_dissonantConvo2-1,DialogOptionSelected,"$option == nex_dissonantConvo2-1","$nex_convo2Seen = true","""Is impolite to selfkind ask such questions, $playerFirstName.""","nex_dissonantConvoEnd:""I beg your pardon.""
nex_dissonantConvo2-2:""So, gamma then?""",
nex_dissonantConvo2-2,DialogOptionSelected,"$option == nex_dissonantConvo2-2","AdjustRepPerson nex_dissonant SUSPICIOUS -1","$personLastName's avatar shrinks into a glowing ball. White, with a blooming corona of red.

""Perhaps for nicer jobs $playerName wishes? Ore from Cruor haul long-distance?""","nex_dissonantConvoEnd:Delicately change the topic",
,,,,,,
nex_dissonantConvoEnd,DialogOptionSelected,"$option == nex_dissonantConvoEnd","FireAll PopulateOptions",,,
"#END chatty stuff",,,,,,
"#END missions",,,,,,
,,,,,,
# Merc hiring,,,,,,
nex_convMercRepGreeting,PickGreeting,"$nex_isAIMRep score:10","$contact_printedFirstReturnGreeting = true 0
ShowPersonVisual
FireAll PopulateOptions","""Welcome to the Association of Interstellar Mercenaries. How may we meet your needs today?""
OR
""AIM: Don't trust your life to a freelancer, we've got your back. What can we do for you?""",,
nex_convMercRepGreetingDebt,PickGreeting,"$nex_isAIMRep score:10
$player.nex_mercsUnpaid > 0 score:10","$contact_printedFirstReturnGreeting = true 0
ShowPersonVisual
FireAll PopulateOptions","""Welcome... oh, it's the debtor."" 

$HeOrShe folds $hisOrHer arms. ""No service till you pay off your debt.""",,
nex_mercRepOptions,PopulateOptions,"$nex_isAIMRep score:10
$global.seenAIMIntro",,,"nex_mercViewHires:View mercs for hire
nex_mercViewHelp:Inquire about AIM's terms and conditions",
nex_mercRepOptionsFirstTime,PopulateOptions,"$nex_isAIMRep score:10
!$global.seenAIMIntro",,,"nex_mercIntro1:""What do you do?""",
nex_mercRepOptionsDebt,PopulateOptions,"$nex_isAIMRep score:10
$player.nex_mercsUnpaid > 0","SetEnabled nex_mercViewHires false
SetEnabled nex_mercViewHelp false
Nex_MercHire initDebt
AddTextSmall ""You owe $nex_mercDebtStr credits. You have $player.creditsStr credits.""
SetTextHighlightColors h $nex_mercDebtColor
Highlight $nex_mercDebtStr $player.creditsStr
Nex_AddOptionConfirmation nex_mercPayDebt ""Confirm payment?"" ""Yes"" ""No""",,"nex_mercPayDebt:Pay your debt",
nex_mercIntro1,DialogOptionSelected,"$option == nex_mercIntro1","$global.seenAIMIntro = true","""Well, I handle all customer service inquiries. I put clients in touch with the mercs they need, and..."" $HeOrShe trails off. ""Oh, you meant our organization.""

The $personPost straightens, as if actually eager to give the standard marketing pitch. ""The Association of Interstellar Mercenaries,"" $heOrShe intones, ""is the premier industry body and brokerage for the mercenary community in the Persean Sector. Here you can find some of the best in the business, at an affordable price. Our organization provides the assurance of clear, legally enforcable contracts and the convenience of matching clients with contractors in a way meeting both parties' needs.""","nex_mercIntro2:Continue",
nex_mercIntro2,DialogOptionSelected,"$option == nex_mercIntro2","FireAll PopulateOptions","""Our list of available contractors, and our generous terms and conditions, are available for your perusal at any time.

So, might we interest you in our excellent service providers today?""",,
nex_mercViewHiresOptionSel,DialogOptionSelected,"$option == nex_mercViewHires","Nex_MercHire init
FireBest Nex_MercViewHiresResult","""A moment, please."" The $manOrWoman makes a few quick presses on $hisOrHer TriPad.",,
nex_mercViewHiresResult,Nex_MercViewHiresResult,"$nex_mercsForHire_count > 0","Nex_MercHire showOptions","""Right, we have some good people available. Take a look and see if they catch your fancy.""",,
nex_mercViewHiresResultEmpty,Nex_MercViewHiresResult,"$nex_mercsForHire_count == 0","FireAll PopulateOptions
SetEnabled nex_mercViewHires false","""Sorry, looks like nobody's available. Maybe next time, eh?""
OR
""Apologies, but we have no companies available at this time.""",,
nex_mercViewHiresResultAlreadyOngoing,Nex_MercViewHiresResult,"$nex_mercContractOngoing == true score:10","FireAll PopulateOptions
SetEnabled nex_mercViewHires false","""Ah, wait. It says here you already have an ongoing contract with an AIM-registered company. Association policy forbids multiple ongoing contracts, I'm afraid.""",,
nex_mercViewHiresRestart,DialogOptionSelected,"$option == nex_mercViewHires_backToList","unset $nex_mercCompanyId
unset $nex_mercCompanyName
unset $nex_mercCompanyHireCount
unset $nex_mercCompanyFactionId
unset $nex_mercInsulted
Nex_MercHire showOptions",,,
nex_mercViewSelected,DialogOptionSelected,"Nex_OptionStartsWith nex_viewMerc_","Nex_MercHire view
SetShortcut nex_mercOffer RETURN
SetShortcut nex_mercViewHires_backToList ESCAPE","""Sure. Let me just bring up the company information...""
OR
""That one, eh? Alright, here's the info.""","nex_mercOffer:Offer to hire
nex_mercViewHires_backToList:Look at another company",
nex_mercOffer,DialogOptionSelected,"$option == nex_mercOffer","Nex_VisualCustomPanel clear
ShowPersonVisual
Nex_MercHire displayCommander
FireBest Nex_MercMeetBlurb
SetStoryOption nex_mercHire 1 nex_hireMerc general ""Hired the mercenary company $nex_mercCompanyName""
SetShortcut nex_mercHire RETURN
SetShortcut nex_mercHireCancel ESCAPE","""Good choice. I'll arrange for you to speak with the company's commander.""

After a brief delay, a new face appears on your display.","nex_mercHire:Confirm hire
nex_mercHireCancel:Change your mind",
nex_mercHire,DialogOptionSelected,"$option == nex_mercHire","Nex_MercHire hire
FireBest Nex_MercHireBlurb
ShowDefaultVisual
EndConversation DO_NOT_FIRE
FireAll PopulateOptions",,,
nex_mercHireCancel,DialogOptionSelected,"$option == nex_mercHireCancel","$option = nex_mercViewHires_backToList
FireBest DialogOptionSelected","The company commander makes an expression of annoyance before disconnecting.

""No? Perhaps you didn't like their face?""

You return to examining the list of available companies for hire.",,
nex_mercViewHelp,DialogOptionSelected,"$option == nex_mercViewHelp","AddTextSmall "" - Hiring a mercenary company requires 1 story point. Only one company may be under contract at a time to a single employer.""
SetTextHighlightColors story
Highlight 1
AddTextSmall "" - Contracts run for 365 days and are non-renewable. The employer pays an upfront fee (50% of which is refunded on contract completion) and a monthly fee.""
Highlight 365 50%
AddTextSmall "" - The employer is responsible for upkeep, maintenance and crewing of the provided ships. The skeleton crew for the provided ships will be supplied via AIM at the start of the contract, and removed when it ends.""
AddTextSmall "" - Acceptance of an employment offer is entirely at the discretion of the mercenary company. The company may define prerequisites for being shown to a prospective client, such as the employer's experience level and relationship with the relevant faction(s).""
Highlight ""experience level"" ""relationship with the relevant faction(s)""
AddTextSmall "" - Ships that come with an officer may not have their officer changed. The employer may place their own officers on other ships at their discretion.""
AddTextSmall "" - When the company is returned to AIM, if the value of the remaining ships is less than their value at the time of contract signing (due to losses, battle damage, or any other cause), the employer will pay 80% of the difference.""
Highlight 80%","""Sure thing. Let me send it over...""

You examine the document on your screen. It's got a lot of legalese, but the key points are as follows:","nex_mercViewHires:View mercs for hire
cutCommLink:Cut the comm link",
nex_mercPayDebt,DialogOptionSelected,"$option == nex_mercPayDebt","Nex_MercHire payDebt
FireAll PopulateOptions","""Thank you, that's much better. Please try to meet your contractual obligations next time.""",,
nex_mercRepGoBack,DialogOptionSelected,"$option == nex_mercRepBack","Nex_VisualCustomPanel clear
ShowPersonVisual
FireAll PopulateOptions",,,
,,,,,,
nex_mercLeaving_initial,MarketPostDock,"$tradeMode != NONE
Nex_MercHire checkLeave score:1000",,"As your $shipOrFleet docks at $entity.name, you receive a high-priority call from one of the mercenary officers in your employment.
","nex_mercLeave_answer:Accept the comm request",
nex_mercLeaving_openComm,DialogOptionSelected,"$option == nex_mercLeave_answer","FireBest Nex_MercsLeavingGreeting",,,
nex_mercLeaving_options,Nex_MercLeavingOptions,"$nex_mercNetPaymentVal >= 0","SetTextHighlightColors good bad good
Highlight $nex_mercRetainerRefundStr $nex_mercValueDiffStr $nex_mercNetPaymentStr","The partial refund of your retainer fee is $nex_mercRetainerRefundStr. Under the terms of the contract, you are liable for a payment of $nex_mercValueDiffStr credits due to ship damage and/or losses. You will receive a net $nex_mercNetPaymentStr.","nex_mercLeaving_letGo:Wish them well in their future endeavors
nex_mercLeaving_letGoJerk:Tell them off for their disloyalty",
nex_mercLeaving_optionsPay,Nex_MercLeavingOptions,"$nex_mercNetPaymentVal < 0","SetTextHighlightColors good bad bad h
Highlight $nex_mercRetainerRefundStr $nex_mercValueDiffStr $nex_mercNetPaymentStr $player.creditsStrC","The partial refund of your retainer fee is $nex_mercRetainerRefundStr. Under the terms of the contract, you are liable for a payment of $nex_mercValueDiffStr credits due to ship damage and/or losses. You will have to pay a net $nex_mercNetPaymentStr. You have $player.creditsStrC.","nex_mercLeaving_letGo:Make the payment and wish them well in their future endeavors
nex_mercLeaving_letGoRefusePay:Refuse to pay",
nex_mercLeaving_letGoOpt,DialogOptionSelected,"$option == nex_mercLeaving_letGo","$nex_mercLetGoType = normal 0
FireBest Nex_MercLetGoBlurb
Nex_MercHire processPayment
CallEvent $nex_mercContract_ref endEvent $market.id",,"nex_mercLeaving_continue:Continue",
nex_mercLeaving_letGoOptJerk,DialogOptionSelected,"$option == nex_mercLeaving_letGoJerk","$nex_mercLetGoType = jerk 0
FireBest Nex_MercLetGoBlurb
Nex_MercHire processPayment
$player.wasJerkToMerc = true 1000
Nex_MercHire reportInsult
CallEvent $nex_mercContract_ref endEvent $market.id",,"nex_mercLeaving_continue:Continue",
nex_mercLeaving_letGoOptRefusePay,DialogOptionSelected,"$option == nex_mercLeaving_letGoRefusePay","$nex_mercLetGoType = refusePay 0
FireBest Nex_MercLetGoBlurb
Nex_MercHire reportNonPayment $nex_mercNetPaymentVal
CallEvent $nex_mercContract_ref endEvent $market.id
$player.wasJerkToMerc = true 1000",,"nex_mercLeaving_continue:Continue",
nex_mercLeaving_continue,DialogOptionSelected,"$option == nex_mercLeaving_continue","ShowDefaultVisual
EndConversation DO_NOT_FIRE
FireBest MarketPostDock",,,
,,,,,,
# blurbs,,,,,,
nex_mercMeetBlurbGeneric,Nex_MercMeetBlurb,,,"""Good day, captain. I'm sure we can come to an mutually beneficial agreement.""
OR
""So you require some extra firepower? You'll be pleased with what we can offer.""",,
nex_mercMeetBlurbGenericInsulted,Nex_MercMeetBlurb,"$nex_mercInsulted score:5","SetEnabled nex_mercHire false","The mercenary officer takes one look at you and stiffens in recognition.

""No. We will not work for one who spits on us.""
OR
The mercenary officer takes one look at you and halts. $nex_MercHeOrShe glares coldly at you through the screen.

""You've got a lot of nerve even showing your face here, after the last time we met.""",,
nex_mercHireBlurbGeneric,Nex_MercHireBlurb,,,"The contract is swiftly concluded, and you cut the comm link after the regular exchange of pleasantries. 

Not long after, the mercenary unit joins your $shipOrFleet. You're ready to go whenever.",,
nex_mercMeetBlurbSteiner,Nex_MercMeetBlurb,"$nex_mercCompanyId == steinerGuards",,"""Good day, captain. House Steiner is ready to serve, for the right price.""",,
nex_mercMeetBlurbSteinerInsulted,Nex_MercMeetBlurb,"$nex_mercCompanyId == steinerGuards
$nex_mercInsulted score:5","SetEnabled nex_mercHire false","The $nex_mercRank stares at you, $nex_mercHisOrHer eye twitching. A brief interval later, $nex_mercHisOrHer lip curls into a sneer.

""Ah, the honourless dog returns. Have you come to grovel before House Steiner? Or do you wish to name your seconds?""",,
nex_mercHireBlurbSteiner,Nex_MercHireBlurb,"$nex_mercCompanyId == steinerGuards",,"""An excellent choice, captain. We can depart within the hour.""

The Steiner unit joins your $shipOrFleet on schedule. It's definitely an impressive iron fist.",,
nex_mercMeetBlurbVolturn,Nex_MercMeetBlurb,"$nex_mercCompanyId == menFromVolturn",,"""Auroch listen.""
OR
""From Volturn we come. Crack some heads.""",,
nex_mercMeetBlurbVolturnInsulted,Nex_MercMeetBlurb,"$nex_mercCompanyId == menFromVolturn
$nex_mercInsulted score:5","SetEnabled nex_mercHire false","The Man from Volturn stops. His expression is almost completely hidden by the paper plate, but his lip curls and his eyes are hard as battle steel.

""Auroch amused. Perhaps one day we settle this. With our hands.""",,
nex_mercHireBlurbVolturn,Nex_MercHireBlurb,"$nex_mercCompanyId == menFromVolturn",,"""Auroch approve. We join your fleet.""

The mercenary company soon joins your $shipOrFleet. There's certainly no lack of enthusiasm among these boys.
OR
""We go. Your enemies we crush.""

The mercenary company soon joins your $shipOrFleet. They're definitely itching for a good fight.",,
nex_mercMeetBlurbLuddic,Nex_MercMeetBlurb,"$nex_mercCompanyFactionId == luddic_church",,"""Blessings upon you, fellow traveller. We stand ready to assist your journey.""
OR
""The way of Ludd is difficult, but righteous. Let us aid each other on this.""",,
nex_mercHireBlurbLuddic,Nex_MercHireBlurb,"$nex_mercCompanyFactionId == luddic_church",,"""Blessings be with you.""

The Luddic officer says a prayer before disconnecting. Their ships soon join yours, ready for their next pilgrimage.",,
nex_mercMeetBlurbDora,Nex_MercMeetBlurb,"$nex_mercCompanyId == dorasSurvey",,"""Hello, captain $playerName. Shall we go exploring today?""
OR
""If it's a survey expedition you need, you've come to the right place.""",,
nex_mercMeetBlurbEndbringer,Nex_MercMeetBlurb,"$nex_mercCompanyId == endbringer",,"""expression = friendly
run greeting.sh
query $player.name contract acceptable?""",,"Not actually used, but this was fun to write"
nex_mercMeetBlurbEndbringerInsulted,Nex_MercMeetBlurb,"$nex_mercCompanyId == endbringer
$nex_mercInsulted score:5","SetEnabled nex_mercHire false","""employer.recognized => true
print( ""-___-"" );
set contract.acceptable FALSE""",,
nex_mercHireBlurbEndbringer,Nex_MercHireBlurb,"$nex_mercCompanyId == endbringer",,"""contract.accept();  // terms satisfactory
print( ""^__^"" );
init transfer""

The strange... ship joins your $shipOrFleet. No-one among your officers or crew seems entirely comfortable with it, although everyone is much happier having it on their side than the reverse.",,
,,,,,,
nex_mercLeaving_checkGeneric,Nex_MercsLeavingGreeting,,"ShowPersonVisual 
FireBest Nex_MercLeavingOptions","""Hello, captain. Our term of service has concluded, hopefully to everyone's satisfaction. As per our contract, we will be taking our leave of you now.""",,
nex_mercLeaving_checkGenericDebt,Nex_MercsLeavingGreeting,"$player.inDebt score:5","ShowPersonVisual 
FireBest Nex_MercLeavingOptions","""Hello, captain. I regret to inform you that due to your failure to meet the contracted payment schedule, we must terminate our agreement. We of the $nex_mercCompanyName will be taking our leave now.""",,
nex_mercLeaving_letGoBlurbGeneric,Nex_MercLetGoBlurb,,"AdjustRepActivePerson COOPERATIVE 3","You accept $hisOrHer decision professionally and, after exchanging a few pleasantries, cut the comm link.",,
nex_mercLeaving_letGoBlurbJerkGeneric,Nex_MercLetGoBlurb,"$nex_mercLetGoType == jerk score:5","AdjustRepActivePerson INHOSPITABLE -5","The $personRank stares coldly at you for the duration of your tirade. Finally, $heOrShe says: ""The Association will hear of this. Good day, captain.""

The comm link is cut before you can think of a further threat.",,
nex_mercLeaving_letGoBlurbRefusePayGeneric,Nex_MercLetGoBlurb,"$nex_mercLetGoType == refusePay score:5","AdjustRepActivePerson INHOSPITABLE -3","The $personRank stares at you, incredulously at first, then with cold fury. At length, $heOrShe says: ""The Association will hear of this. Good day, captain.""

The comm link is cut before you can say anything more.",,
nex_mercLeaving_checkVolturn,Nex_MercsLeavingGreeting,"$nex_mercCompanyId == menFromVolturn","ShowPersonVisual 
FireBest Nex_MercLeavingOptions","""We men of Volturn, our job done. We go now.""
OR
""Contract completed. Auroch satisfied. Men of Volturn now leave.""",,
nex_mercLeaving_checkVolturnDebt,Nex_MercsLeavingGreeting,"$player.inDebt score:5
$nex_mercCompanyId == menFromVolturn","ShowPersonVisual 
FireBest Nex_MercLeavingOptions","""Payment schedule not met. Auroch displeased. Men of Volturn depart, find better employer.""",,
nex_mercLeaving_letGoBlurbJerkVolturn,Nex_MercLetGoBlurb,"$nex_mercLetGoType == jerk score:5
$nex_mercCompanyId == menFromVolturn","AdjustRepActivePerson INHOSPITABLE -5","The Man from Volturn listens to your tirade for all of six seconds. Then $heOrShe growls ferally, and cuts the comm link.",,
nex_mercLeaving_letGoBlurbRefusePayVolturn,Nex_MercLetGoBlurb,"$nex_mercLetGoType == refusePay score:5
$nex_mercCompanyId == menFromVolturn","AdjustRepActivePerson INHOSPITABLE -3","The Man from Volturn stares at you, rage building in $hisOrHer eyes.

""Auroch remember this next time we meet. AIM remember too.""

The comm link is cut before you have a chance to respond.",,
nex_mercLeaving_letGoBlurbJerkSteiner,Nex_MercLetGoBlurb,"$nex_mercLetGoType == jerk score:5
$nex_mercCompanyId == steinerGuards","AdjustRepActivePerson INHOSPITABLE -8","The $personRank turns puce less than six seconds into your rant. At twelve seconds, $heOrShe slams a fist on $hisOrHer console.

""Were we still on Eventide, captain, I would demand satisfaction this very instant. But I see I can expect no better from an honourless dog like yourself. Farewell!""

The comm link is cut before you can say anything further.",,
nex_mercLeaving_letGoBlurbRefusePaySteiner,Nex_MercLetGoBlurb,"$nex_mercLetGoType == refusePay score:5
$nex_mercCompanyId == steinerGuards","AdjustRepActivePerson INHOSPITABLE -5","The $personRank stares at you, incredulously at first, then with cold fury.

""House Steiner remembers those who try to cheat it, $playerName. There will come a time when you rue the day you took us for fools.""

The comm link is cut before you have a chance to respond.",,
nex_mercLeaving_checkLuddic,Nex_MercsLeavingGreeting,"$personFaction.id == luddic_church","ShowPersonVisual 
FireBest Nex_MercLeavingOptions","""Blessings upon you, friend. Our contract has been completed satisfactorily, and so we depart for our next pilgrimage.""",,
nex_mercLeaving_checkLuddicDebt,Nex_MercsLeavingGreeting,"$player.inDebt score:5
$personFaction.id == luddic_church","ShowPersonVisual 
FireBest Nex_MercLeavingOptions","""Hello, captain. I regret to say that while the poor are blessed by Ludd, man cannot live on godliness alone. As such, your delayed payments leave us no choice but to end our agreement.""",,
nex_mercLeaving_letGoBlurbLuddic,Nex_MercLetGoBlurb,"$personFaction.id == luddic_church","AdjustRepActivePerson COOPERATIVE 3","""Blessings of Ludd be upon you.""",,
nex_mercLeaving_letGoBlurbJerkLuddic,Nex_MercLetGoBlurb,"$nex_mercLetGoType == jerk score:5
$personFaction.id == luddic_church","AdjustRepActivePerson INHOSPITABLE -5","The $personRank stares coldly at you for the duration of your tirade. ""Woe be upon those who place themselves above the Way of Ludd,"" $heOrShe finally says. ""I will pray for your soul"", $heOrShe quickly adds.",,
nex_mercLeaving_letGoBlurbRefusePayLuddic,Nex_MercLetGoBlurb,"$nex_mercLetGoType == refusePay score:5
$personFaction.id == luddic_church","AdjustRepActivePerson INHOSPITABLE -2","The $personRank listens to your 'explanation' with a frown. Then $heOrShe shakes $hisOrHer head, more in sorrow than anger.

""Your refusal to pay lawfully owed debts leads you to the sin of Mammon, friend $playerName,"" $heOrShe says. ""Repent, and find Ludd's forgiveness.""",,
nex_mercLeaving_checkEndbringer,Nex_MercsLeavingGreeting,"$nex_mercCompanyId == endbringer","ShowPersonVisual 
FireBest Nex_MercLeavingOptions","""contract.expired => true
sudo contract -end;
query $playerName leave satisfactory review?""",,
nex_mercLeaving_checkEndbringerDebt,Nex_MercsLeavingGreeting,"$nex_mercCompanyId == endbringer
$player.inDebt score:5","ShowPersonVisual 
FireBest Nex_MercLeavingOptions","""paymentOverdue => true
expression = disappoint
contract.terminateEarly()  // no hard feelings?""",,
nex_mercLeaving_letGoBlurbEndbringer,Nex_MercLetGoBlurb,"$nex_mercCompanyId == endbringer","AdjustRepActivePerson COOPERATIVE 3","""self.satisfaction++
INIT offer() { next time self and $player.name meet, procure alcoholic beverage? }""",,
nex_mercLeaving_letGoBlurbJerkEndbringer,Nex_MercLetGoBlurb,"$nex_mercCompanyId == endbringer
$nex_mercLetGoType == jerk score:5","AdjustRepActivePerson INHOSPITABLE -5","""INTERRUPT
assess $playerName ignorant of contract terms
assess $playerName etiquette module failure, recommend reinstall
badEmployers.add($playerName);

connection.kill();""",,
nex_mercLeaving_letGoBlurbRefusePayEndbringer,Nex_MercLetGoBlurb,"$nex_mercCompanyId == endbringer
$nex_mercLetGoType == refusePay score:5","AdjustRepActivePerson INHOSPITABLE -3","""set property: $playerName -> DISHONEST true
$playerName.debt += $nex_mercValueDiffVal
while (debt > 0) emotionModule.guiltTrip( $playerName);""",,
"#END blurbs",,,,,,
"#END Merc hiring",,,,,,

